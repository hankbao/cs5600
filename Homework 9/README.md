# Homework 9

## Part 1: Chapter 29 Code

**Q1**: Weâ€™ll start by redoing the measurements within this chapter. Use the call `gettimeofday()` to measure time within your program.  How accurate is this timer? What is the smallest interval it can measure? Gain confidence in its workings, as we will need it in all subsequent questions. You can also look into other timers, such as the cycle counter available on x86 via the `rdtsc` instruction.

**A**: Although the `gettimeofday()` provides time in microseconds, its accuracy can depend on the system and its hardware. It's generally considered to have microsecond resolution, but the actual precision can be much lower. The `rdtsc` instruction has one clock cycle resolution.

---

**Q2**: Now, build a simple concurrent counter and measure how long it takes to increment the counter many times as the number of threads increases. How many CPUs are available on the system you are using? Does this number impact your measurements at all?

**A**: Please see the code in [simple_counter.c](./simple_counter.c). There are 10 CPU cores available on my system. The number of CPU cores does impact the measurements. The more CPU cores, the faster the counter increments. With more CPU cores, threads can run in a more parallel fashion.

```zsh
$ sysctl -n hw.logicalcpu
10
```

---

**Q3**: Next, build a version of the approximate counter. Once again, measure its performance as the number of threads varies, as well as the threshold. Do the numbers match what you see in the chapter?

**A**: Please see the code in [approximate_conter.c](./approximate_counter.c). The numbers do match what I see in the chapter.

---

**Q4**: Build a version of a linked list that uses hand-over-hand locking [MS04], as cited in the chapter. You should read the paper first to understand how it works, and then implement it. Measure its performance. When does a hand-over-hand list work better than a standard list as shown in the chapter?

**A**: Please see the code in [hand_over_hand.c](./hand_over_hand.c). In practice, it is hard to make such a structure faster than the simple single lock approach, as the overheads of acquiring and releasing locks for each node of a list traversal is prohibitive. Also, the insertion is not protected with a list-level lock.

---

**Q5**: Pick your favorite data structure, such as a B-tree or other slightly more interesting structure. Implement it, and start with a simple locking strategy such as a single lock. Measure its performance as the number of concurrent threads increases.

**A**: Please see the code in [hash_table.c](./hash_table.c).

---

**Q6**: Finally, think of a more interesting locking strategy for this favorite data structure of yours. Implement it, and measure its performance. How does it compare to the straightforward locking approach?

**A**: We could also deploy the hand-over-hand locking strategy for the hash table. It may have the performance gain in theory.

## Part 2: Chapter 30 Code

**Q1**: Our first question focuses on `main-two-cvs-while.c` (the working solution). First, study the code. Do you think you have an understanding of what should happen when you run the program?

**A**: Yes. It uses two condition variables and one mutex to control the producer and consumer threads. It also uses while-loop to check if the condition is met.

---

**Q2**: Run with one producer and one consumer, and have the producer produce a few values. Start with a buffer (size 1), and then increase it. How does the behavior of the code change with larger buffers?  (or does it?) What would you predict `num_full` to be with different buffer sizes (e.g., `-m 10`) and different numbers of produced items (e.g., `-l 100`), when you change the consumer sleep string from default (no sleep) to `-C 0,0,0,0,0,0,1`?

**A**: Increasing the buffer size can make the producer and consumer threads run in a more parallel fashion. The `num_full` is the number of items in the buffer. Changing the consumer sleep string has a performance impact as the consumer will run once, and then sleep for 1 second.

```zsh
$ ./main-two-cvs-while -l 3 -p 1 -c 1 -m 1 -v
 NF        P0 C0
  0 [*--- ] p0
  0 [*--- ]    c0
  0 [*--- ] p1
  1 [*  0 ] p4
  1 [*  0 ] p5
  1 [*  0 ] p6
  1 [*  0 ] p0
  1 [*  0 ]    c1
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ]    c6
  0 [*--- ]    c0
  0 [*--- ]    c1
  0 [*--- ]    c2
  0 [*--- ] p1
  1 [*  1 ] p4
  1 [*  1 ] p5
  1 [*  1 ] p6
  1 [*  1 ] p0
  1 [*  1 ] p1
  1 [*  1 ] p2
  1 [*  1 ]    c3
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ]    c6
  0 [*--- ]    c0
  0 [*--- ] p3
  1 [*  2 ] p4
  1 [*  2 ] p5
  1 [*  2 ] p6
  1 [*  2 ]    c1
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ]    c6
  0 [*--- ]    c0
  0 [*--- ]    c1
  0 [*--- ]    c2
  1 [*EOS ] [main: added end-of-stream marker]
  1 [*EOS ]    c3
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ]    c6

Consumer consumption:
  C0 -> 3
```

```zsh
$ ./main-two-cvs-while -l 100 -p 1 -c 1 -m 10
 NF                                                     P0 C0
  0 [*---  ---  ---  ---  ---  ---  ---  ---  ---  --- ] p0
  0 [*---  ---  ---  ---  ---  ---  ---  ---  ---  --- ] p1
  1 [u  0 f---  ---  ---  ---  ---  ---  ---  ---  --- ] p4
  1 [u  0 f---  ---  ---  ---  ---  ---  ---  ---  --- ] p5
  1 [u  0 f---  ---  ---  ---  ---  ---  ---  ---  --- ] p6
  1 [u  0 f---  ---  ---  ---  ---  ---  ---  ---  --- ] p0
  1 [u  0 f---  ---  ---  ---  ---  ---  ---  ---  --- ] p1
  2 [u  0    1 f---  ---  ---  ---  ---  ---  ---  --- ] p4
  2 [u  0    1 f---  ---  ---  ---  ---  ---  ---  --- ] p5
  2 [u  0    1 f---  ---  ---  ---  ---  ---  ---  --- ] p6
  2 [u  0    1 f---  ---  ---  ---  ---  ---  ---  --- ] p0
  2 [u  0    1 f---  ---  ---  ---  ---  ---  ---  --- ] p1
  3 [u  0    1    2 f---  ---  ---  ---  ---  ---  --- ] p4
  3 [u  0    1    2 f---  ---  ---  ---  ---  ---  --- ] p5
  3 [u  0    1    2 f---  ---  ---  ---  ---  ---  --- ] p6
  3 [u  0    1    2 f---  ---  ---  ---  ---  ---  --- ] p0
  3 [u  0    1    2 f---  ---  ---  ---  ---  ---  --- ] p1
  4 [u  0    1    2    3 f---  ---  ---  ---  ---  --- ] p4
  4 [u  0    1    2    3 f---  ---  ---  ---  ---  --- ] p5
  4 [u  0    1    2    3 f---  ---  ---  ---  ---  --- ] p6
  4 [u  0    1    2    3 f---  ---  ---  ---  ---  --- ] p0
  4 [u  0    1    2    3 f---  ---  ---  ---  ---  --- ] p1
  5 [u  0    1    2    3    4 f---  ---  ---  ---  --- ] p4
  5 [u  0    1    2    3    4 f---  ---  ---  ---  --- ] p5
  5 [u  0    1    2    3    4 f---  ---  ---  ---  --- ] p6
  5 [u  0    1    2    3    4 f---  ---  ---  ---  --- ] p0
  5 [u  0    1    2    3    4 f---  ---  ---  ---  --- ] p1
  6 [u  0    1    2    3    4    5 f---  ---  ---  --- ] p4
  6 [u  0    1    2    3    4    5 f---  ---  ---  --- ] p5
  6 [u  0    1    2    3    4    5 f---  ---  ---  --- ] p6
  6 [u  0    1    2    3    4    5 f---  ---  ---  --- ] p0
  6 [u  0    1    2    3    4    5 f---  ---  ---  --- ] p1
  7 [u  0    1    2    3    4    5    6 f---  ---  --- ] p4
  7 [u  0    1    2    3    4    5    6 f---  ---  --- ] p5
  7 [u  0    1    2    3    4    5    6 f---  ---  --- ] p6
  7 [u  0    1    2    3    4    5    6 f---  ---  --- ] p0
  7 [u  0    1    2    3    4    5    6 f---  ---  --- ] p1
  8 [u  0    1    2    3    4    5    6    7 f---  --- ] p4
  8 [u  0    1    2    3    4    5    6    7 f---  --- ] p5
  8 [u  0    1    2    3    4    5    6    7 f---  --- ] p6
  8 [u  0    1    2    3    4    5    6    7 f---  --- ] p0
  8 [u  0    1    2    3    4    5    6    7 f---  --- ] p1
  9 [u  0    1    2    3    4    5    6    7    8 f--- ] p4
  9 [u  0    1    2    3    4    5    6    7    8 f--- ]    c0
  9 [u  0    1    2    3    4    5    6    7    8 f--- ] p5
  9 [u  0    1    2    3    4    5    6    7    8 f--- ] p6
  9 [u  0    1    2    3    4    5    6    7    8 f--- ] p0
  9 [u  0    1    2    3    4    5    6    7    8 f--- ] p1
 10 [*  0    1    2    3    4    5    6    7    8    9 ] p4
 10 [*  0    1    2    3    4    5    6    7    8    9 ] p5
 10 [*  0    1    2    3    4    5    6    7    8    9 ] p6
 10 [*  0    1    2    3    4    5    6    7    8    9 ] p0
 10 [*  0    1    2    3    4    5    6    7    8    9 ] p1
 10 [*  0    1    2    3    4    5    6    7    8    9 ] p2
 10 [*  0    1    2    3    4    5    6    7    8    9 ]    c1
  9 [f--- u  1    2    3    4    5    6    7    8    9 ]    c4
  9 [f--- u  1    2    3    4    5    6    7    8    9 ]    c5
  9 [f--- u  1    2    3    4    5    6    7    8    9 ]    c6
  9 [f--- u  1    2    3    4    5    6    7    8    9 ]    c0
  9 [f--- u  1    2    3    4    5    6    7    8    9 ]    c1
  8 [f---  --- u  2    3    4    5    6    7    8    9 ]    c4
  8 [f---  --- u  2    3    4    5    6    7    8    9 ]    c5
  8 [f---  --- u  2    3    4    5    6    7    8    9 ]    c6
  8 [f---  --- u  2    3    4    5    6    7    8    9 ]    c0
  8 [f---  --- u  2    3    4    5    6    7    8    9 ] p3
  9 [  10 f--- u  2    3    4    5    6    7    8    9 ] p4
  9 [  10 f--- u  2    3    4    5    6    7    8    9 ] p5
  9 [  10 f--- u  2    3    4    5    6    7    8    9 ] p6
  9 [  10 f--- u  2    3    4    5    6    7    8    9 ] p0
  9 [  10 f--- u  2    3    4    5    6    7    8    9 ] p1
 10 [  10   11 *  2    3    4    5    6    7    8    9 ] p4
 10 [  10   11 *  2    3    4    5    6    7    8    9 ] p5
 10 [  10   11 *  2    3    4    5    6    7    8    9 ] p6
 10 [  10   11 *  2    3    4    5    6    7    8    9 ] p0
 10 [  10   11 *  2    3    4    5    6    7    8    9 ]    c1
  9 [  10   11 f--- u  3    4    5    6    7    8    9 ]    c4
  9 [  10   11 f--- u  3    4    5    6    7    8    9 ]    c5
  9 [  10   11 f--- u  3    4    5    6    7    8    9 ]    c6
  9 [  10   11 f--- u  3    4    5    6    7    8    9 ]    c0
  9 [  10   11 f--- u  3    4    5    6    7    8    9 ]    c1
  8 [  10   11 f---  --- u  4    5    6    7    8    9 ]    c4
  8 [  10   11 f---  --- u  4    5    6    7    8    9 ]    c5
  8 [  10   11 f---  --- u  4    5    6    7    8    9 ]    c6
  8 [  10   11 f---  --- u  4    5    6    7    8    9 ]    c0
  8 [  10   11 f---  --- u  4    5    6    7    8    9 ]    c1
  7 [  10   11 f---  ---  --- u  5    6    7    8    9 ]    c4
  7 [  10   11 f---  ---  --- u  5    6    7    8    9 ]    c5
  7 [  10   11 f---  ---  --- u  5    6    7    8    9 ]    c6
  7 [  10   11 f---  ---  --- u  5    6    7    8    9 ]    c0
  7 [  10   11 f---  ---  --- u  5    6    7    8    9 ]    c1
  6 [  10   11 f---  ---  ---  --- u  6    7    8    9 ]    c4
  6 [  10   11 f---  ---  ---  --- u  6    7    8    9 ]    c5
  6 [  10   11 f---  ---  ---  --- u  6    7    8    9 ]    c6
  6 [  10   11 f---  ---  ---  --- u  6    7    8    9 ]    c0
  6 [  10   11 f---  ---  ---  --- u  6    7    8    9 ]    c1
  5 [  10   11 f---  ---  ---  ---  --- u  7    8    9 ]    c4
  5 [  10   11 f---  ---  ---  ---  --- u  7    8    9 ]    c5
  5 [  10   11 f---  ---  ---  ---  --- u  7    8    9 ]    c6
  5 [  10   11 f---  ---  ---  ---  --- u  7    8    9 ]    c0
  5 [  10   11 f---  ---  ---  ---  --- u  7    8    9 ]    c1
  4 [  10   11 f---  ---  ---  ---  ---  --- u  8    9 ]    c4
  4 [  10   11 f---  ---  ---  ---  ---  --- u  8    9 ]    c5
  4 [  10   11 f---  ---  ---  ---  ---  --- u  8    9 ]    c6
  4 [  10   11 f---  ---  ---  ---  ---  --- u  8    9 ]    c0
  4 [  10   11 f---  ---  ---  ---  ---  --- u  8    9 ]    c1
  3 [  10   11 f---  ---  ---  ---  ---  ---  --- u  9 ]    c4
  3 [  10   11 f---  ---  ---  ---  ---  ---  --- u  9 ]    c5
  3 [  10   11 f---  ---  ---  ---  ---  ---  --- u  9 ]    c6
  3 [  10   11 f---  ---  ---  ---  ---  ---  --- u  9 ]    c0
  3 [  10   11 f---  ---  ---  ---  ---  ---  --- u  9 ]    c1
  2 [u 10   11 f---  ---  ---  ---  ---  ---  ---  --- ]    c4
  2 [u 10   11 f---  ---  ---  ---  ---  ---  ---  --- ]    c5
  2 [u 10   11 f---  ---  ---  ---  ---  ---  ---  --- ]    c6
  2 [u 10   11 f---  ---  ---  ---  ---  ---  ---  --- ]    c0
  2 [u 10   11 f---  ---  ---  ---  ---  ---  ---  --- ]    c1
  1 [ --- u 11 f---  ---  ---  ---  ---  ---  ---  --- ]    c4
  1 [ --- u 11 f---  ---  ---  ---  ---  ---  ---  --- ]    c5
  1 [ --- u 11 f---  ---  ---  ---  ---  ---  ---  --- ]    c6
  1 [ --- u 11 f---  ---  ---  ---  ---  ---  ---  --- ]    c0
  1 [ --- u 11 f---  ---  ---  ---  ---  ---  ---  --- ]    c1
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ]    c4
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ]    c5
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ]    c6
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ]    c0
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ]    c1
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ]    c2
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ] p1
  1 [ ---  --- u 12 f---  ---  ---  ---  ---  ---  --- ] p4
  1 [ ---  --- u 12 f---  ---  ---  ---  ---  ---  --- ] p5
  1 [ ---  --- u 12 f---  ---  ---  ---  ---  ---  --- ] p6
  1 [ ---  --- u 12 f---  ---  ---  ---  ---  ---  --- ] p0
  1 [ ---  --- u 12 f---  ---  ---  ---  ---  ---  --- ] p1
  2 [ ---  --- u 12   13 f---  ---  ---  ---  ---  --- ] p4
  2 [ ---  --- u 12   13 f---  ---  ---  ---  ---  --- ] p5
  2 [ ---  --- u 12   13 f---  ---  ---  ---  ---  --- ] p6
  2 [ ---  --- u 12   13 f---  ---  ---  ---  ---  --- ] p0
  2 [ ---  --- u 12   13 f---  ---  ---  ---  ---  --- ] p1
  3 [ ---  --- u 12   13   14 f---  ---  ---  ---  --- ] p4
  3 [ ---  --- u 12   13   14 f---  ---  ---  ---  --- ] p5
  3 [ ---  --- u 12   13   14 f---  ---  ---  ---  --- ] p6
  3 [ ---  --- u 12   13   14 f---  ---  ---  ---  --- ] p0
  3 [ ---  --- u 12   13   14 f---  ---  ---  ---  --- ] p1
  4 [ ---  --- u 12   13   14   15 f---  ---  ---  --- ] p4
  4 [ ---  --- u 12   13   14   15 f---  ---  ---  --- ] p5
  4 [ ---  --- u 12   13   14   15 f---  ---  ---  --- ] p6
  4 [ ---  --- u 12   13   14   15 f---  ---  ---  --- ] p0
  4 [ ---  --- u 12   13   14   15 f---  ---  ---  --- ] p1
  5 [ ---  --- u 12   13   14   15   16 f---  ---  --- ] p4
  5 [ ---  --- u 12   13   14   15   16 f---  ---  --- ] p5
  5 [ ---  --- u 12   13   14   15   16 f---  ---  --- ] p6
  5 [ ---  --- u 12   13   14   15   16 f---  ---  --- ] p0
  5 [ ---  --- u 12   13   14   15   16 f---  ---  --- ] p1
  6 [ ---  --- u 12   13   14   15   16   17 f---  --- ] p4
  6 [ ---  --- u 12   13   14   15   16   17 f---  --- ] p5
  6 [ ---  --- u 12   13   14   15   16   17 f---  --- ] p6
  6 [ ---  --- u 12   13   14   15   16   17 f---  --- ] p0
  6 [ ---  --- u 12   13   14   15   16   17 f---  --- ] p1
  7 [ ---  --- u 12   13   14   15   16   17   18 f--- ] p4
  7 [ ---  --- u 12   13   14   15   16   17   18 f--- ] p5
  7 [ ---  --- u 12   13   14   15   16   17   18 f--- ] p6
  7 [ ---  --- u 12   13   14   15   16   17   18 f--- ] p0
  7 [ ---  --- u 12   13   14   15   16   17   18 f--- ] p1
  8 [f---  --- u 12   13   14   15   16   17   18   19 ] p4
  8 [f---  --- u 12   13   14   15   16   17   18   19 ] p5
  8 [f---  --- u 12   13   14   15   16   17   18   19 ] p6
  8 [f---  --- u 12   13   14   15   16   17   18   19 ] p0
  8 [f---  --- u 12   13   14   15   16   17   18   19 ] p1
  9 [  20 f--- u 12   13   14   15   16   17   18   19 ] p4
  9 [  20 f--- u 12   13   14   15   16   17   18   19 ] p5
  9 [  20 f--- u 12   13   14   15   16   17   18   19 ] p6
  9 [  20 f--- u 12   13   14   15   16   17   18   19 ] p0
  9 [  20 f--- u 12   13   14   15   16   17   18   19 ] p1
 10 [  20   21 * 12   13   14   15   16   17   18   19 ] p4
 10 [  20   21 * 12   13   14   15   16   17   18   19 ] p5
 10 [  20   21 * 12   13   14   15   16   17   18   19 ] p6
 10 [  20   21 * 12   13   14   15   16   17   18   19 ] p0
 10 [  20   21 * 12   13   14   15   16   17   18   19 ] p1
 10 [  20   21 * 12   13   14   15   16   17   18   19 ] p2
 10 [  20   21 * 12   13   14   15   16   17   18   19 ]    c3
  9 [  20   21 f--- u 13   14   15   16   17   18   19 ]    c4
  9 [  20   21 f--- u 13   14   15   16   17   18   19 ]    c5
  9 [  20   21 f--- u 13   14   15   16   17   18   19 ]    c6
  9 [  20   21 f--- u 13   14   15   16   17   18   19 ]    c0
  9 [  20   21 f--- u 13   14   15   16   17   18   19 ]    c1
  8 [  20   21 f---  --- u 14   15   16   17   18   19 ]    c4
  8 [  20   21 f---  --- u 14   15   16   17   18   19 ]    c5
  8 [  20   21 f---  --- u 14   15   16   17   18   19 ]    c6
  8 [  20   21 f---  --- u 14   15   16   17   18   19 ]    c0
  8 [  20   21 f---  --- u 14   15   16   17   18   19 ]    c1
  7 [  20   21 f---  ---  --- u 15   16   17   18   19 ]    c4
  7 [  20   21 f---  ---  --- u 15   16   17   18   19 ]    c5
  7 [  20   21 f---  ---  --- u 15   16   17   18   19 ]    c6
  7 [  20   21 f---  ---  --- u 15   16   17   18   19 ]    c0
  7 [  20   21 f---  ---  --- u 15   16   17   18   19 ]    c1
  6 [  20   21 f---  ---  ---  --- u 16   17   18   19 ]    c4
  6 [  20   21 f---  ---  ---  --- u 16   17   18   19 ]    c5
  6 [  20   21 f---  ---  ---  --- u 16   17   18   19 ]    c6
  6 [  20   21 f---  ---  ---  --- u 16   17   18   19 ] p3
  6 [  20   21 f---  ---  ---  --- u 16   17   18   19 ]    c0
  7 [  20   21   22 f---  ---  --- u 16   17   18   19 ] p4
  7 [  20   21   22 f---  ---  --- u 16   17   18   19 ] p5
  7 [  20   21   22 f---  ---  --- u 16   17   18   19 ] p6
  7 [  20   21   22 f---  ---  --- u 16   17   18   19 ]    c1
  7 [  20   21   22 f---  ---  ---  --- u 17   18   19 ] p0
  6 [  20   21   22 f---  ---  ---  --- u 17   18   19 ]    c4
  6 [  20   21   22 f---  ---  ---  --- u 17   18   19 ]    c5
  6 [  20   21   22 f---  ---  ---  --- u 17   18   19 ]    c6
  6 [  20   21   22 f---  ---  ---  --- u 17   18   19 ]    c0
  6 [  20   21   22 f---  ---  ---  --- u 17   18   19 ] p1
  7 [  20   21   22   23 f---  ---  --- u 17   18   19 ] p4
  7 [  20   21   22   23 f---  ---  --- u 17   18   19 ] p5
  7 [  20   21   22   23 f---  ---  --- u 17   18   19 ] p6
  7 [  20   21   22   23 f---  ---  --- u 17   18   19 ] p0
  7 [  20   21   22   23 f---  ---  --- u 17   18   19 ]    c1
  6 [  20   21   22   23 f---  ---  ---  --- u 18   19 ]    c4
  6 [  20   21   22   23 f---  ---  ---  --- u 18   19 ]    c5
  6 [  20   21   22   23 f---  ---  ---  --- u 18   19 ]    c6
  6 [  20   21   22   23 f---  ---  ---  --- u 18   19 ]    c0
  6 [  20   21   22   23 f---  ---  ---  --- u 18   19 ] p1
  7 [  20   21   22   23   24 f---  ---  --- u 18   19 ] p4
  7 [  20   21   22   23   24 f---  ---  --- u 18   19 ] p5
  7 [  20   21   22   23   24 f---  ---  --- u 18   19 ] p6
  7 [  20   21   22   23   24 f---  ---  --- u 18   19 ] p0
  7 [  20   21   22   23   24 f---  ---  --- u 18   19 ]    c1
  6 [  20   21   22   23   24 f---  ---  ---  --- u 19 ]    c4
  6 [  20   21   22   23   24 f---  ---  ---  --- u 19 ]    c5
  6 [  20   21   22   23   24 f---  ---  ---  --- u 19 ]    c6
  6 [  20   21   22   23   24 f---  ---  ---  --- u 19 ]    c0
  6 [  20   21   22   23   24 f---  ---  ---  --- u 19 ] p1
  7 [  20   21   22   23   24   25 f---  ---  --- u 19 ] p4
  7 [  20   21   22   23   24   25 f---  ---  --- u 19 ] p5
  7 [  20   21   22   23   24   25 f---  ---  --- u 19 ] p6
  7 [  20   21   22   23   24   25 f---  ---  --- u 19 ] p0
  7 [  20   21   22   23   24   25 f---  ---  --- u 19 ]    c1
  6 [u 20   21   22   23   24   25 f---  ---  ---  --- ]    c4
  6 [u 20   21   22   23   24   25 f---  ---  ---  --- ]    c5
  6 [u 20   21   22   23   24   25 f---  ---  ---  --- ]    c6
  6 [u 20   21   22   23   24   25 f---  ---  ---  --- ]    c0
  6 [u 20   21   22   23   24   25 f---  ---  ---  --- ] p1
  7 [u 20   21   22   23   24   25   26 f---  ---  --- ] p4
  7 [u 20   21   22   23   24   25   26 f---  ---  --- ] p5
  7 [u 20   21   22   23   24   25   26 f---  ---  --- ] p6
  7 [u 20   21   22   23   24   25   26 f---  ---  --- ]    c1
  6 [ --- u 21   22   23   24   25   26 f---  ---  --- ]    c4
  6 [ --- u 21   22   23   24   25   26 f---  ---  --- ]    c5
  6 [ --- u 21   22   23   24   25   26 f---  ---  --- ]    c6
  6 [ --- u 21   22   23   24   25   26 f---  ---  --- ]    c0
  6 [ --- u 21   22   23   24   25   26 f---  ---  --- ]    c1
  5 [ ---  --- u 22   23   24   25   26 f---  ---  --- ]    c4
  5 [ ---  --- u 22   23   24   25   26 f---  ---  --- ]    c5
  5 [ ---  --- u 22   23   24   25   26 f---  ---  --- ]    c6
  5 [ ---  --- u 22   23   24   25   26 f---  ---  --- ]    c0
  5 [ ---  --- u 22   23   24   25   26 f---  ---  --- ]    c1
  4 [ ---  ---  --- u 23   24   25   26 f---  ---  --- ]    c4
  4 [ ---  ---  --- u 23   24   25   26 f---  ---  --- ]    c5
  4 [ ---  ---  --- u 23   24   25   26 f---  ---  --- ]    c6
  4 [ ---  ---  --- u 23   24   25   26 f---  ---  --- ]    c0
  4 [ ---  ---  --- u 23   24   25   26 f---  ---  --- ]    c1
  3 [ ---  ---  ---  --- u 24   25   26 f---  ---  --- ]    c4
  3 [ ---  ---  ---  --- u 24   25   26 f---  ---  --- ]    c5
  3 [ ---  ---  ---  --- u 24   25   26 f---  ---  --- ]    c6
  3 [ ---  ---  ---  --- u 24   25   26 f---  ---  --- ]    c0
  3 [ ---  ---  ---  --- u 24   25   26 f---  ---  --- ]    c1
  2 [ ---  ---  ---  ---  --- u 25   26 f---  ---  --- ]    c4
  2 [ ---  ---  ---  ---  --- u 25   26 f---  ---  --- ]    c5
  2 [ ---  ---  ---  ---  --- u 25   26 f---  ---  --- ]    c6
  2 [ ---  ---  ---  ---  --- u 25   26 f---  ---  --- ]    c0
  2 [ ---  ---  ---  ---  --- u 25   26 f---  ---  --- ]    c1
  1 [ ---  ---  ---  ---  ---  --- u 26 f---  ---  --- ]    c4
  1 [ ---  ---  ---  ---  ---  --- u 26 f---  ---  --- ]    c5
  1 [ ---  ---  ---  ---  ---  --- u 26 f---  ---  --- ]    c6
  1 [ ---  ---  ---  ---  ---  --- u 26 f---  ---  --- ]    c0
  1 [ ---  ---  ---  ---  ---  --- u 26 f---  ---  --- ]    c1
  0 [ ---  ---  ---  ---  ---  ---  --- *---  ---  --- ]    c4
  0 [ ---  ---  ---  ---  ---  ---  --- *---  ---  --- ]    c5
  0 [ ---  ---  ---  ---  ---  ---  --- *---  ---  --- ]    c6
  0 [ ---  ---  ---  ---  ---  ---  --- *---  ---  --- ]    c0
  0 [ ---  ---  ---  ---  ---  ---  --- *---  ---  --- ]    c1
  0 [ ---  ---  ---  ---  ---  ---  --- *---  ---  --- ]    c2
  0 [ ---  ---  ---  ---  ---  ---  --- *---  ---  --- ] p0
  0 [ ---  ---  ---  ---  ---  ---  --- *---  ---  --- ] p1
  1 [ ---  ---  ---  ---  ---  ---  --- u 27 f---  --- ] p4
  1 [ ---  ---  ---  ---  ---  ---  --- u 27 f---  --- ] p5
  1 [ ---  ---  ---  ---  ---  ---  --- u 27 f---  --- ] p6
  1 [ ---  ---  ---  ---  ---  ---  --- u 27 f---  --- ] p0
  1 [ ---  ---  ---  ---  ---  ---  --- u 27 f---  --- ]    c3
  0 [ ---  ---  ---  ---  ---  ---  ---  --- *---  --- ]    c4
  0 [ ---  ---  ---  ---  ---  ---  ---  --- *---  --- ]    c5
  0 [ ---  ---  ---  ---  ---  ---  ---  --- *---  --- ]    c6
  0 [ ---  ---  ---  ---  ---  ---  ---  --- *---  --- ] p1
  1 [ ---  ---  ---  ---  ---  ---  ---  --- u 28 f--- ] p4
  1 [ ---  ---  ---  ---  ---  ---  ---  --- u 28 f--- ] p5
  1 [ ---  ---  ---  ---  ---  ---  ---  --- u 28 f--- ] p6
  1 [ ---  ---  ---  ---  ---  ---  ---  --- u 28 f--- ] p0
  1 [ ---  ---  ---  ---  ---  ---  ---  --- u 28 f--- ] p1
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 28   29 ] p4
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 28   29 ] p5
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 28   29 ] p6
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 28   29 ] p0
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 28   29 ] p1
  3 [  30 f---  ---  ---  ---  ---  ---  --- u 28   29 ] p4
  3 [  30 f---  ---  ---  ---  ---  ---  --- u 28   29 ] p5
  3 [  30 f---  ---  ---  ---  ---  ---  --- u 28   29 ] p6
  3 [  30 f---  ---  ---  ---  ---  ---  --- u 28   29 ] p0
  3 [  30 f---  ---  ---  ---  ---  ---  --- u 28   29 ] p1
  4 [  30   31 f---  ---  ---  ---  ---  --- u 28   29 ] p4
  4 [  30   31 f---  ---  ---  ---  ---  --- u 28   29 ] p5
  4 [  30   31 f---  ---  ---  ---  ---  --- u 28   29 ] p6
  4 [  30   31 f---  ---  ---  ---  ---  --- u 28   29 ] p0
  4 [  30   31 f---  ---  ---  ---  ---  --- u 28   29 ] p1
  5 [  30   31   32 f---  ---  ---  ---  --- u 28   29 ] p4
  5 [  30   31   32 f---  ---  ---  ---  --- u 28   29 ] p5
  5 [  30   31   32 f---  ---  ---  ---  --- u 28   29 ] p6
  5 [  30   31   32 f---  ---  ---  ---  --- u 28   29 ] p0
  5 [  30   31   32 f---  ---  ---  ---  --- u 28   29 ] p1
  6 [  30   31   32   33 f---  ---  ---  --- u 28   29 ] p4
  6 [  30   31   32   33 f---  ---  ---  --- u 28   29 ] p5
  6 [  30   31   32   33 f---  ---  ---  --- u 28   29 ] p6
  6 [  30   31   32   33 f---  ---  ---  --- u 28   29 ] p0
  6 [  30   31   32   33 f---  ---  ---  --- u 28   29 ] p1
  7 [  30   31   32   33   34 f---  ---  --- u 28   29 ] p4
  7 [  30   31   32   33   34 f---  ---  --- u 28   29 ] p5
  7 [  30   31   32   33   34 f---  ---  --- u 28   29 ] p6
  7 [  30   31   32   33   34 f---  ---  --- u 28   29 ] p0
  7 [  30   31   32   33   34 f---  ---  --- u 28   29 ] p1
  8 [  30   31   32   33   34   35 f---  --- u 28   29 ] p4
  8 [  30   31   32   33   34   35 f---  --- u 28   29 ]    c0
  8 [  30   31   32   33   34   35 f---  --- u 28   29 ] p5
  8 [  30   31   32   33   34   35 f---  --- u 28   29 ] p6
  8 [  30   31   32   33   34   35 f---  --- u 28   29 ] p0
  8 [  30   31   32   33   34   35 f---  --- u 28   29 ]    c1
  7 [  30   31   32   33   34   35 f---  ---  --- u 29 ]    c4
  7 [  30   31   32   33   34   35 f---  ---  --- u 29 ]    c5
  7 [  30   31   32   33   34   35 f---  ---  --- u 29 ]    c6
  7 [  30   31   32   33   34   35 f---  ---  --- u 29 ]    c0
  7 [  30   31   32   33   34   35 f---  ---  --- u 29 ] p1
  8 [  30   31   32   33   34   35   36 f---  --- u 29 ] p4
  8 [  30   31   32   33   34   35   36 f---  --- u 29 ] p5
  8 [  30   31   32   33   34   35   36 f---  --- u 29 ] p6
  8 [  30   31   32   33   34   35   36 f---  --- u 29 ] p0
  8 [  30   31   32   33   34   35   36 f---  --- u 29 ]    c1
  7 [u 30   31   32   33   34   35   36 f---  ---  --- ]    c4
  7 [u 30   31   32   33   34   35   36 f---  ---  --- ]    c5
  7 [u 30   31   32   33   34   35   36 f---  ---  --- ]    c6
  7 [u 30   31   32   33   34   35   36 f---  ---  --- ]    c0
  7 [u 30   31   32   33   34   35   36 f---  ---  --- ] p1
  8 [u 30   31   32   33   34   35   36   37 f---  --- ] p4
  8 [u 30   31   32   33   34   35   36   37 f---  --- ] p5
  8 [u 30   31   32   33   34   35   36   37 f---  --- ] p6
  8 [u 30   31   32   33   34   35   36   37 f---  --- ]    c1
  7 [ --- u 31   32   33   34   35   36   37 f---  --- ]    c4
  7 [ --- u 31   32   33   34   35   36   37 f---  --- ]    c5
  7 [ --- u 31   32   33   34   35   36   37 f---  --- ]    c6
  7 [ --- u 31   32   33   34   35   36   37 f---  --- ]    c0
  7 [ --- u 31   32   33   34   35   36   37 f---  --- ]    c1
  6 [ ---  --- u 32   33   34   35   36   37 f---  --- ]    c4
  6 [ ---  --- u 32   33   34   35   36   37 f---  --- ]    c5
  6 [ ---  --- u 32   33   34   35   36   37 f---  --- ]    c6
  6 [ ---  --- u 32   33   34   35   36   37 f---  --- ]    c0
  6 [ ---  --- u 32   33   34   35   36   37 f---  --- ]    c1
  5 [ ---  ---  --- u 33   34   35   36   37 f---  --- ]    c4
  5 [ ---  ---  --- u 33   34   35   36   37 f---  --- ]    c5
  5 [ ---  ---  --- u 33   34   35   36   37 f---  --- ]    c6
  5 [ ---  ---  --- u 33   34   35   36   37 f---  --- ]    c0
  5 [ ---  ---  --- u 33   34   35   36   37 f---  --- ]    c1
  4 [ ---  ---  ---  --- u 34   35   36   37 f---  --- ]    c4
  4 [ ---  ---  ---  --- u 34   35   36   37 f---  --- ]    c5
  4 [ ---  ---  ---  --- u 34   35   36   37 f---  --- ]    c6
  4 [ ---  ---  ---  --- u 34   35   36   37 f---  --- ]    c0
  4 [ ---  ---  ---  --- u 34   35   36   37 f---  --- ]    c1
  3 [ ---  ---  ---  ---  --- u 35   36   37 f---  --- ]    c4
  3 [ ---  ---  ---  ---  --- u 35   36   37 f---  --- ]    c5
  3 [ ---  ---  ---  ---  --- u 35   36   37 f---  --- ]    c6
  3 [ ---  ---  ---  ---  --- u 35   36   37 f---  --- ] p0
  3 [ ---  ---  ---  ---  --- u 35   36   37 f---  --- ] p1
  4 [ ---  ---  ---  ---  --- u 35   36   37   38 f--- ] p4
  4 [ ---  ---  ---  ---  --- u 35   36   37   38 f--- ]    c0
  4 [ ---  ---  ---  ---  --- u 35   36   37   38 f--- ] p5
  4 [ ---  ---  ---  ---  --- u 35   36   37   38 f--- ] p6
  4 [ ---  ---  ---  ---  --- u 35   36   37   38 f--- ] p0
  4 [ ---  ---  ---  ---  --- u 35   36   37   38 f--- ]    c1
  3 [ ---  ---  ---  ---  ---  --- u 36   37   38 f--- ]    c4
  3 [ ---  ---  ---  ---  ---  --- u 36   37   38 f--- ]    c5
  3 [ ---  ---  ---  ---  ---  --- u 36   37   38 f--- ]    c6
  3 [ ---  ---  ---  ---  ---  --- u 36   37   38 f--- ]    c0
  3 [ ---  ---  ---  ---  ---  --- u 36   37   38 f--- ] p1
  4 [f---  ---  ---  ---  ---  --- u 36   37   38   39 ] p4
  4 [f---  ---  ---  ---  ---  --- u 36   37   38   39 ] p5
  4 [f---  ---  ---  ---  ---  --- u 36   37   38   39 ] p6
  4 [f---  ---  ---  ---  ---  --- u 36   37   38   39 ]    c1
  3 [f---  ---  ---  ---  ---  ---  --- u 37   38   39 ]    c4
  3 [f---  ---  ---  ---  ---  ---  --- u 37   38   39 ]    c5
  3 [f---  ---  ---  ---  ---  ---  --- u 37   38   39 ]    c6
  3 [f---  ---  ---  ---  ---  ---  --- u 37   38   39 ]    c0
  3 [f---  ---  ---  ---  ---  ---  --- u 37   38   39 ]    c1
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 38   39 ]    c4
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 38   39 ]    c5
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 38   39 ]    c6
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 38   39 ]    c0
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 38   39 ]    c1
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 39 ]    c4
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 39 ]    c5
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 39 ]    c6
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 39 ] p0
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 39 ] p1
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 39 ]    c0
  2 [  40 f---  ---  ---  ---  ---  ---  ---  --- u 39 ] p4
  2 [  40 f---  ---  ---  ---  ---  ---  ---  --- u 39 ] p5
  2 [  40 f---  ---  ---  ---  ---  ---  ---  --- u 39 ] p6
  2 [  40 f---  ---  ---  ---  ---  ---  ---  --- u 39 ]    c1
  1 [u 40 f---  ---  ---  ---  ---  ---  ---  ---  --- ]    c4
  1 [u 40 f---  ---  ---  ---  ---  ---  ---  ---  --- ]    c5
  1 [u 40 f---  ---  ---  ---  ---  ---  ---  ---  --- ]    c6
  1 [u 40 f---  ---  ---  ---  ---  ---  ---  ---  --- ]    c0
  1 [u 40 f---  ---  ---  ---  ---  ---  ---  ---  --- ]    c1
  0 [ --- *---  ---  ---  ---  ---  ---  ---  ---  --- ]    c4
  0 [ --- *---  ---  ---  ---  ---  ---  ---  ---  --- ]    c5
  0 [ --- *---  ---  ---  ---  ---  ---  ---  ---  --- ]    c6
  0 [ --- *---  ---  ---  ---  ---  ---  ---  ---  --- ]    c0
  0 [ --- *---  ---  ---  ---  ---  ---  ---  ---  --- ]    c1
  0 [ --- *---  ---  ---  ---  ---  ---  ---  ---  --- ]    c2
  0 [ --- *---  ---  ---  ---  ---  ---  ---  ---  --- ] p0
  0 [ --- *---  ---  ---  ---  ---  ---  ---  ---  --- ] p1
  1 [ --- u 41 f---  ---  ---  ---  ---  ---  ---  --- ] p4
  1 [ --- u 41 f---  ---  ---  ---  ---  ---  ---  --- ] p5
  1 [ --- u 41 f---  ---  ---  ---  ---  ---  ---  --- ] p6
  1 [ --- u 41 f---  ---  ---  ---  ---  ---  ---  --- ] p0
  1 [ --- u 41 f---  ---  ---  ---  ---  ---  ---  --- ]    c3
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ]    c4
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ]    c5
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ]    c6
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ] p1
  1 [ ---  --- u 42 f---  ---  ---  ---  ---  ---  --- ] p4
  1 [ ---  --- u 42 f---  ---  ---  ---  ---  ---  --- ] p5
  1 [ ---  --- u 42 f---  ---  ---  ---  ---  ---  --- ] p6
  1 [ ---  --- u 42 f---  ---  ---  ---  ---  ---  --- ] p0
  1 [ ---  --- u 42 f---  ---  ---  ---  ---  ---  --- ] p1
  2 [ ---  --- u 42   43 f---  ---  ---  ---  ---  --- ] p4
  2 [ ---  --- u 42   43 f---  ---  ---  ---  ---  --- ] p5
  2 [ ---  --- u 42   43 f---  ---  ---  ---  ---  --- ] p6
  2 [ ---  --- u 42   43 f---  ---  ---  ---  ---  --- ] p0
  2 [ ---  --- u 42   43 f---  ---  ---  ---  ---  --- ] p1
  3 [ ---  --- u 42   43   44 f---  ---  ---  ---  --- ] p4
  3 [ ---  --- u 42   43   44 f---  ---  ---  ---  --- ] p5
  3 [ ---  --- u 42   43   44 f---  ---  ---  ---  --- ] p6
  3 [ ---  --- u 42   43   44 f---  ---  ---  ---  --- ] p0
  3 [ ---  --- u 42   43   44 f---  ---  ---  ---  --- ] p1
  4 [ ---  --- u 42   43   44   45 f---  ---  ---  --- ] p4
  4 [ ---  --- u 42   43   44   45 f---  ---  ---  --- ] p5
  4 [ ---  --- u 42   43   44   45 f---  ---  ---  --- ] p6
  4 [ ---  --- u 42   43   44   45 f---  ---  ---  --- ] p0
  4 [ ---  --- u 42   43   44   45 f---  ---  ---  --- ] p1
  5 [ ---  --- u 42   43   44   45   46 f---  ---  --- ] p4
  5 [ ---  --- u 42   43   44   45   46 f---  ---  --- ] p5
  5 [ ---  --- u 42   43   44   45   46 f---  ---  --- ] p6
  5 [ ---  --- u 42   43   44   45   46 f---  ---  --- ] p0
  5 [ ---  --- u 42   43   44   45   46 f---  ---  --- ] p1
  6 [ ---  --- u 42   43   44   45   46   47 f---  --- ] p4
  6 [ ---  --- u 42   43   44   45   46   47 f---  --- ] p5
  6 [ ---  --- u 42   43   44   45   46   47 f---  --- ] p6
  6 [ ---  --- u 42   43   44   45   46   47 f---  --- ] p0
  6 [ ---  --- u 42   43   44   45   46   47 f---  --- ] p1
  7 [ ---  --- u 42   43   44   45   46   47   48 f--- ] p4
  7 [ ---  --- u 42   43   44   45   46   47   48 f--- ] p5
  7 [ ---  --- u 42   43   44   45   46   47   48 f--- ] p6
  7 [ ---  --- u 42   43   44   45   46   47   48 f--- ] p0
  7 [ ---  --- u 42   43   44   45   46   47   48 f--- ] p1
  8 [f---  --- u 42   43   44   45   46   47   48   49 ] p4
  8 [f---  --- u 42   43   44   45   46   47   48   49 ] p5
  8 [f---  --- u 42   43   44   45   46   47   48   49 ] p6
  8 [f---  --- u 42   43   44   45   46   47   48   49 ] p0
  8 [f---  --- u 42   43   44   45   46   47   48   49 ] p1
  9 [  50 f--- u 42   43   44   45   46   47   48   49 ] p4
  9 [  50 f--- u 42   43   44   45   46   47   48   49 ] p5
  9 [  50 f--- u 42   43   44   45   46   47   48   49 ] p6
  9 [  50 f--- u 42   43   44   45   46   47   48   49 ] p0
  9 [  50 f--- u 42   43   44   45   46   47   48   49 ] p1
 10 [  50   51 * 42   43   44   45   46   47   48   49 ] p4
 10 [  50   51 * 42   43   44   45   46   47   48   49 ] p5
 10 [  50   51 * 42   43   44   45   46   47   48   49 ] p6
 10 [  50   51 * 42   43   44   45   46   47   48   49 ] p0
 10 [  50   51 * 42   43   44   45   46   47   48   49 ] p1
 10 [  50   51 * 42   43   44   45   46   47   48   49 ] p2
 10 [  50   51 * 42   43   44   45   46   47   48   49 ]    c0
 10 [  50   51 * 42   43   44   45   46   47   48   49 ]    c1
  9 [  50   51 f--- u 43   44   45   46   47   48   49 ]    c4
  9 [  50   51 f--- u 43   44   45   46   47   48   49 ]    c5
  9 [  50   51 f--- u 43   44   45   46   47   48   49 ]    c6
  9 [  50   51 f--- u 43   44   45   46   47   48   49 ]    c0
  9 [  50   51 f--- u 43   44   45   46   47   48   49 ] p3
 10 [  50   51   52 * 43   44   45   46   47   48   49 ] p4
 10 [  50   51   52 * 43   44   45   46   47   48   49 ] p5
 10 [  50   51   52 * 43   44   45   46   47   48   49 ] p6
 10 [  50   51   52 * 43   44   45   46   47   48   49 ]    c1
  9 [  50   51   52 f--- u 44   45   46   47   48   49 ]    c4
  9 [  50   51   52 f--- u 44   45   46   47   48   49 ]    c5
  9 [  50   51   52 f--- u 44   45   46   47   48   49 ]    c6
  9 [  50   51   52 f--- u 44   45   46   47   48   49 ]    c0
  9 [  50   51   52 f--- u 44   45   46   47   48   49 ]    c1
  8 [  50   51   52 f---  --- u 45   46   47   48   49 ]    c4
  8 [  50   51   52 f---  --- u 45   46   47   48   49 ]    c5
  8 [  50   51   52 f---  --- u 45   46   47   48   49 ]    c6
  8 [  50   51   52 f---  --- u 45   46   47   48   49 ]    c0
  8 [  50   51   52 f---  --- u 45   46   47   48   49 ]    c1
  7 [  50   51   52 f---  ---  --- u 46   47   48   49 ]    c4
  7 [  50   51   52 f---  ---  --- u 46   47   48   49 ]    c5
  7 [  50   51   52 f---  ---  --- u 46   47   48   49 ]    c6
  7 [  50   51   52 f---  ---  --- u 46   47   48   49 ]    c0
  7 [  50   51   52 f---  ---  --- u 46   47   48   49 ]    c1
  6 [  50   51   52 f---  ---  ---  --- u 47   48   49 ]    c4
  6 [  50   51   52 f---  ---  ---  --- u 47   48   49 ]    c5
  6 [  50   51   52 f---  ---  ---  --- u 47   48   49 ]    c6
  6 [  50   51   52 f---  ---  ---  --- u 47   48   49 ]    c0
  6 [  50   51   52 f---  ---  ---  --- u 47   48   49 ]    c1
  5 [  50   51   52 f---  ---  ---  ---  --- u 48   49 ]    c4
  5 [  50   51   52 f---  ---  ---  ---  --- u 48   49 ]    c5
  5 [  50   51   52 f---  ---  ---  ---  --- u 48   49 ]    c6
  5 [  50   51   52 f---  ---  ---  ---  --- u 48   49 ] p0
  5 [  50   51   52 f---  ---  ---  ---  --- u 48   49 ] p1
  6 [  50   51   52   53 f---  ---  ---  --- u 48   49 ] p4
  6 [  50   51   52   53 f---  ---  ---  --- u 48   49 ]    c0
  6 [  50   51   52   53 f---  ---  ---  --- u 48   49 ] p5
  6 [  50   51   52   53 f---  ---  ---  --- u 48   49 ] p6
  6 [  50   51   52   53 f---  ---  ---  --- u 48   49 ] p0
  6 [  50   51   52   53 f---  ---  ---  --- u 48   49 ]    c1
  5 [  50   51   52   53 f---  ---  ---  ---  --- u 49 ]    c4
  5 [  50   51   52   53 f---  ---  ---  ---  --- u 49 ]    c5
  5 [  50   51   52   53 f---  ---  ---  ---  --- u 49 ]    c6
  5 [  50   51   52   53 f---  ---  ---  ---  --- u 49 ]    c0
  5 [  50   51   52   53 f---  ---  ---  ---  --- u 49 ] p1
  6 [  50   51   52   53   54 f---  ---  ---  --- u 49 ] p4
  6 [  50   51   52   53   54 f---  ---  ---  --- u 49 ] p5
  6 [  50   51   52   53   54 f---  ---  ---  --- u 49 ] p6
  6 [  50   51   52   53   54 f---  ---  ---  --- u 49 ] p0
  6 [  50   51   52   53   54 f---  ---  ---  --- u 49 ]    c1
  5 [u 50   51   52   53   54 f---  ---  ---  ---  --- ]    c4
  5 [u 50   51   52   53   54 f---  ---  ---  ---  --- ]    c5
  5 [u 50   51   52   53   54 f---  ---  ---  ---  --- ]    c6
  5 [u 50   51   52   53   54 f---  ---  ---  ---  --- ] p1
  6 [u 50   51   52   53   54   55 f---  ---  ---  --- ] p4
  6 [u 50   51   52   53   54   55 f---  ---  ---  --- ] p5
  6 [u 50   51   52   53   54   55 f---  ---  ---  --- ] p6
  6 [u 50   51   52   53   54   55 f---  ---  ---  --- ] p0
  6 [u 50   51   52   53   54   55 f---  ---  ---  --- ] p1
  7 [u 50   51   52   53   54   55   56 f---  ---  --- ] p4
  7 [u 50   51   52   53   54   55   56 f---  ---  --- ] p5
  7 [u 50   51   52   53   54   55   56 f---  ---  --- ] p6
  7 [u 50   51   52   53   54   55   56 f---  ---  --- ] p0
  7 [u 50   51   52   53   54   55   56 f---  ---  --- ] p1
  8 [u 50   51   52   53   54   55   56   57 f---  --- ] p4
  8 [u 50   51   52   53   54   55   56   57 f---  --- ] p5
  8 [u 50   51   52   53   54   55   56   57 f---  --- ] p6
  8 [u 50   51   52   53   54   55   56   57 f---  --- ] p0
  8 [u 50   51   52   53   54   55   56   57 f---  --- ] p1
  9 [u 50   51   52   53   54   55   56   57   58 f--- ] p4
  9 [u 50   51   52   53   54   55   56   57   58 f--- ] p5
  9 [u 50   51   52   53   54   55   56   57   58 f--- ] p6
  9 [u 50   51   52   53   54   55   56   57   58 f--- ] p0
  9 [u 50   51   52   53   54   55   56   57   58 f--- ] p1
 10 [* 50   51   52   53   54   55   56   57   58   59 ] p4
 10 [* 50   51   52   53   54   55   56   57   58   59 ] p5
 10 [* 50   51   52   53   54   55   56   57   58   59 ] p6
 10 [* 50   51   52   53   54   55   56   57   58   59 ] p0
 10 [* 50   51   52   53   54   55   56   57   58   59 ] p1
 10 [* 50   51   52   53   54   55   56   57   58   59 ] p2
 10 [* 50   51   52   53   54   55   56   57   58   59 ]    c0
 10 [* 50   51   52   53   54   55   56   57   58   59 ]    c1
  9 [f--- u 51   52   53   54   55   56   57   58   59 ]    c4
  9 [f--- u 51   52   53   54   55   56   57   58   59 ]    c5
  9 [f--- u 51   52   53   54   55   56   57   58   59 ]    c6
  9 [f--- u 51   52   53   54   55   56   57   58   59 ]    c0
  9 [f--- u 51   52   53   54   55   56   57   58   59 ] p3
 10 [  60 * 51   52   53   54   55   56   57   58   59 ] p4
 10 [  60 * 51   52   53   54   55   56   57   58   59 ] p5
 10 [  60 * 51   52   53   54   55   56   57   58   59 ] p6
 10 [  60 * 51   52   53   54   55   56   57   58   59 ] p0
 10 [  60 * 51   52   53   54   55   56   57   58   59 ]    c1
  9 [  60 f--- u 52   53   54   55   56   57   58   59 ]    c4
  9 [  60 f--- u 52   53   54   55   56   57   58   59 ]    c5
  9 [  60 f--- u 52   53   54   55   56   57   58   59 ]    c6
  9 [  60 f--- u 52   53   54   55   56   57   58   59 ]    c0
  9 [  60 f--- u 52   53   54   55   56   57   58   59 ] p1
 10 [  60   61 * 52   53   54   55   56   57   58   59 ] p4
 10 [  60   61 * 52   53   54   55   56   57   58   59 ] p5
 10 [  60   61 * 52   53   54   55   56   57   58   59 ] p6
 10 [  60   61 * 52   53   54   55   56   57   58   59 ] p0
 10 [  60   61 * 52   53   54   55   56   57   58   59 ]    c1
  9 [  60   61 f--- u 53   54   55   56   57   58   59 ]    c4
  9 [  60   61 f--- u 53   54   55   56   57   58   59 ]    c5
  9 [  60   61 f--- u 53   54   55   56   57   58   59 ]    c6
  9 [  60   61 f--- u 53   54   55   56   57   58   59 ]    c0
  9 [  60   61 f--- u 53   54   55   56   57   58   59 ] p1
 10 [  60   61   62 * 53   54   55   56   57   58   59 ] p4
 10 [  60   61   62 * 53   54   55   56   57   58   59 ] p5
 10 [  60   61   62 * 53   54   55   56   57   58   59 ] p6
 10 [  60   61   62 * 53   54   55   56   57   58   59 ] p0
 10 [  60   61   62 * 53   54   55   56   57   58   59 ]    c1
  9 [  60   61   62 f--- u 54   55   56   57   58   59 ]    c4
  9 [  60   61   62 f--- u 54   55   56   57   58   59 ]    c5
  9 [  60   61   62 f--- u 54   55   56   57   58   59 ]    c6
  9 [  60   61   62 f--- u 54   55   56   57   58   59 ] p1
 10 [  60   61   62   63 * 54   55   56   57   58   59 ] p4
 10 [  60   61   62   63 * 54   55   56   57   58   59 ] p5
 10 [  60   61   62   63 * 54   55   56   57   58   59 ] p6
 10 [  60   61   62   63 * 54   55   56   57   58   59 ] p0
 10 [  60   61   62   63 * 54   55   56   57   58   59 ] p1
 10 [  60   61   62   63 * 54   55   56   57   58   59 ] p2
 10 [  60   61   62   63 * 54   55   56   57   58   59 ]    c0
 10 [  60   61   62   63 * 54   55   56   57   58   59 ]    c1
  9 [  60   61   62   63 f--- u 55   56   57   58   59 ]    c4
  9 [  60   61   62   63 f--- u 55   56   57   58   59 ]    c5
  9 [  60   61   62   63 f--- u 55   56   57   58   59 ]    c6
  9 [  60   61   62   63 f--- u 55   56   57   58   59 ]    c0
  9 [  60   61   62   63 f--- u 55   56   57   58   59 ] p3
 10 [  60   61   62   63   64 * 55   56   57   58   59 ] p4
 10 [  60   61   62   63   64 * 55   56   57   58   59 ] p5
 10 [  60   61   62   63   64 * 55   56   57   58   59 ] p6
 10 [  60   61   62   63   64 * 55   56   57   58   59 ] p0
 10 [  60   61   62   63   64 * 55   56   57   58   59 ]    c1
  9 [  60   61   62   63   64 f--- u 56   57   58   59 ]    c4
  9 [  60   61   62   63   64 f--- u 56   57   58   59 ]    c5
  9 [  60   61   62   63   64 f--- u 56   57   58   59 ]    c6
  9 [  60   61   62   63   64 f--- u 56   57   58   59 ]    c0
  9 [  60   61   62   63   64 f--- u 56   57   58   59 ] p1
 10 [  60   61   62   63   64   65 * 56   57   58   59 ] p4
 10 [  60   61   62   63   64   65 * 56   57   58   59 ] p5
 10 [  60   61   62   63   64   65 * 56   57   58   59 ] p6
 10 [  60   61   62   63   64   65 * 56   57   58   59 ] p0
 10 [  60   61   62   63   64   65 * 56   57   58   59 ]    c1
  9 [  60   61   62   63   64   65 f--- u 57   58   59 ]    c4
  9 [  60   61   62   63   64   65 f--- u 57   58   59 ]    c5
  9 [  60   61   62   63   64   65 f--- u 57   58   59 ]    c6
  9 [  60   61   62   63   64   65 f--- u 57   58   59 ]    c0
  9 [  60   61   62   63   64   65 f--- u 57   58   59 ] p1
 10 [  60   61   62   63   64   65   66 * 57   58   59 ] p4
 10 [  60   61   62   63   64   65   66 * 57   58   59 ] p5
 10 [  60   61   62   63   64   65   66 * 57   58   59 ] p6
 10 [  60   61   62   63   64   65   66 * 57   58   59 ] p0
 10 [  60   61   62   63   64   65   66 * 57   58   59 ]    c1
  9 [  60   61   62   63   64   65   66 f--- u 58   59 ]    c4
  9 [  60   61   62   63   64   65   66 f--- u 58   59 ]    c5
  9 [  60   61   62   63   64   65   66 f--- u 58   59 ]    c6
  9 [  60   61   62   63   64   65   66 f--- u 58   59 ]    c0
  9 [  60   61   62   63   64   65   66 f--- u 58   59 ] p1
 10 [  60   61   62   63   64   65   66   67 * 58   59 ] p4
 10 [  60   61   62   63   64   65   66   67 * 58   59 ] p5
 10 [  60   61   62   63   64   65   66   67 * 58   59 ] p6
 10 [  60   61   62   63   64   65   66   67 * 58   59 ] p0
 10 [  60   61   62   63   64   65   66   67 * 58   59 ]    c1
  9 [  60   61   62   63   64   65   66   67 f--- u 59 ]    c4
  9 [  60   61   62   63   64   65   66   67 f--- u 59 ]    c5
  9 [  60   61   62   63   64   65   66   67 f--- u 59 ]    c6
  9 [  60   61   62   63   64   65   66   67 f--- u 59 ]    c0
  9 [  60   61   62   63   64   65   66   67 f--- u 59 ] p1
 10 [  60   61   62   63   64   65   66   67   68 * 59 ] p4
 10 [  60   61   62   63   64   65   66   67   68 * 59 ] p5
 10 [  60   61   62   63   64   65   66   67   68 * 59 ] p6
 10 [  60   61   62   63   64   65   66   67   68 * 59 ] p0
 10 [  60   61   62   63   64   65   66   67   68 * 59 ]    c1
  9 [u 60   61   62   63   64   65   66   67   68 f--- ]    c4
  9 [u 60   61   62   63   64   65   66   67   68 f--- ]    c5
  9 [u 60   61   62   63   64   65   66   67   68 f--- ]    c6
  9 [u 60   61   62   63   64   65   66   67   68 f--- ]    c0
  9 [u 60   61   62   63   64   65   66   67   68 f--- ] p1
 10 [* 60   61   62   63   64   65   66   67   68   69 ] p4
 10 [* 60   61   62   63   64   65   66   67   68   69 ] p5
 10 [* 60   61   62   63   64   65   66   67   68   69 ] p6
 10 [* 60   61   62   63   64   65   66   67   68   69 ] p0
 10 [* 60   61   62   63   64   65   66   67   68   69 ]    c1
  9 [f--- u 61   62   63   64   65   66   67   68   69 ]    c4
  9 [f--- u 61   62   63   64   65   66   67   68   69 ]    c5
  9 [f--- u 61   62   63   64   65   66   67   68   69 ]    c6
  9 [f--- u 61   62   63   64   65   66   67   68   69 ]    c0
  9 [f--- u 61   62   63   64   65   66   67   68   69 ] p1
 10 [  70 * 61   62   63   64   65   66   67   68   69 ] p4
 10 [  70 * 61   62   63   64   65   66   67   68   69 ] p5
 10 [  70 * 61   62   63   64   65   66   67   68   69 ] p6
 10 [  70 * 61   62   63   64   65   66   67   68   69 ]    c1
 10 [  70 f--- u 62   63   64   65   66   67   68   69 ] p0
  9 [  70 f--- u 62   63   64   65   66   67   68   69 ]    c4
  9 [  70 f--- u 62   63   64   65   66   67   68   69 ]    c5
  9 [  70 f--- u 62   63   64   65   66   67   68   69 ]    c6
  9 [  70 f--- u 62   63   64   65   66   67   68   69 ]    c0
  9 [  70 f--- u 62   63   64   65   66   67   68   69 ] p1
 10 [  70   71 * 62   63   64   65   66   67   68   69 ] p4
 10 [  70   71 * 62   63   64   65   66   67   68   69 ] p5
 10 [  70   71 * 62   63   64   65   66   67   68   69 ] p6
 10 [  70   71 * 62   63   64   65   66   67   68   69 ]    c1
  9 [  70   71 f--- u 63   64   65   66   67   68   69 ]    c4
  9 [  70   71 f--- u 63   64   65   66   67   68   69 ]    c5
  9 [  70   71 f--- u 63   64   65   66   67   68   69 ]    c6
  9 [  70   71 f--- u 63   64   65   66   67   68   69 ]    c0
  9 [  70   71 f--- u 63   64   65   66   67   68   69 ]    c1
  8 [  70   71 f---  --- u 64   65   66   67   68   69 ]    c4
  8 [  70   71 f---  --- u 64   65   66   67   68   69 ]    c5
  8 [  70   71 f---  --- u 64   65   66   67   68   69 ]    c6
  8 [  70   71 f---  --- u 64   65   66   67   68   69 ]    c0
  8 [  70   71 f---  --- u 64   65   66   67   68   69 ]    c1
  7 [  70   71 f---  ---  --- u 65   66   67   68   69 ]    c4
  7 [  70   71 f---  ---  --- u 65   66   67   68   69 ]    c5
  7 [  70   71 f---  ---  --- u 65   66   67   68   69 ]    c6
  7 [  70   71 f---  ---  --- u 65   66   67   68   69 ]    c0
  7 [  70   71 f---  ---  --- u 65   66   67   68   69 ]    c1
  6 [  70   71 f---  ---  ---  --- u 66   67   68   69 ]    c4
  6 [  70   71 f---  ---  ---  --- u 66   67   68   69 ] p0
  6 [  70   71 f---  ---  ---  --- u 66   67   68   69 ]    c5
  6 [  70   71 f---  ---  ---  --- u 66   67   68   69 ]    c6
  6 [  70   71 f---  ---  ---  --- u 66   67   68   69 ]    c0
  6 [  70   71 f---  ---  ---  --- u 66   67   68   69 ] p1
  7 [  70   71   72 f---  ---  --- u 66   67   68   69 ] p4
  7 [  70   71   72 f---  ---  --- u 66   67   68   69 ] p5
  7 [  70   71   72 f---  ---  --- u 66   67   68   69 ] p6
  7 [  70   71   72 f---  ---  --- u 66   67   68   69 ] p0
  7 [  70   71   72 f---  ---  --- u 66   67   68   69 ]    c1
  6 [  70   71   72 f---  ---  ---  --- u 67   68   69 ]    c4
  6 [  70   71   72 f---  ---  ---  --- u 67   68   69 ]    c5
  6 [  70   71   72 f---  ---  ---  --- u 67   68   69 ]    c6
  6 [  70   71   72 f---  ---  ---  --- u 67   68   69 ]    c0
  6 [  70   71   72 f---  ---  ---  --- u 67   68   69 ] p1
  7 [  70   71   72   73 f---  ---  --- u 67   68   69 ] p4
  7 [  70   71   72   73 f---  ---  --- u 67   68   69 ] p5
  7 [  70   71   72   73 f---  ---  --- u 67   68   69 ] p6
  7 [  70   71   72   73 f---  ---  --- u 67   68   69 ] p0
  7 [  70   71   72   73 f---  ---  --- u 67   68   69 ]    c1
  6 [  70   71   72   73 f---  ---  ---  --- u 68   69 ]    c4
  6 [  70   71   72   73 f---  ---  ---  --- u 68   69 ]    c5
  6 [  70   71   72   73 f---  ---  ---  --- u 68   69 ]    c6
  6 [  70   71   72   73 f---  ---  ---  --- u 68   69 ]    c0
  6 [  70   71   72   73 f---  ---  ---  --- u 68   69 ] p1
  7 [  70   71   72   73   74 f---  ---  --- u 68   69 ] p4
  7 [  70   71   72   73   74 f---  ---  --- u 68   69 ] p5
  7 [  70   71   72   73   74 f---  ---  --- u 68   69 ] p6
  7 [  70   71   72   73   74 f---  ---  --- u 68   69 ]    c1
  6 [  70   71   72   73   74 f---  ---  ---  --- u 69 ]    c4
  6 [  70   71   72   73   74 f---  ---  ---  --- u 69 ] p0
  6 [  70   71   72   73   74 f---  ---  ---  --- u 69 ]    c5
  6 [  70   71   72   73   74 f---  ---  ---  --- u 69 ]    c6
  6 [  70   71   72   73   74 f---  ---  ---  --- u 69 ]    c0
  6 [  70   71   72   73   74 f---  ---  ---  --- u 69 ] p1
  7 [  70   71   72   73   74   75 f---  ---  --- u 69 ] p4
  7 [  70   71   72   73   74   75 f---  ---  --- u 69 ] p5
  7 [  70   71   72   73   74   75 f---  ---  --- u 69 ] p6
  7 [  70   71   72   73   74   75 f---  ---  --- u 69 ]    c1
  6 [u 70   71   72   73   74   75 f---  ---  ---  --- ]    c4
  6 [u 70   71   72   73   74   75 f---  ---  ---  --- ]    c5
  6 [u 70   71   72   73   74   75 f---  ---  ---  --- ]    c6
  6 [u 70   71   72   73   74   75 f---  ---  ---  --- ]    c0
  6 [u 70   71   72   73   74   75 f---  ---  ---  --- ]    c1
  5 [ --- u 71   72   73   74   75 f---  ---  ---  --- ]    c4
  5 [ --- u 71   72   73   74   75 f---  ---  ---  --- ]    c5
  5 [ --- u 71   72   73   74   75 f---  ---  ---  --- ]    c6
  5 [ --- u 71   72   73   74   75 f---  ---  ---  --- ]    c0
  5 [ --- u 71   72   73   74   75 f---  ---  ---  --- ] p0
  5 [ --- u 71   72   73   74   75 f---  ---  ---  --- ]    c1
  4 [ ---  --- u 72   73   74   75 f---  ---  ---  --- ]    c4
  4 [ ---  --- u 72   73   74   75 f---  ---  ---  --- ]    c5
  4 [ ---  --- u 72   73   74   75 f---  ---  ---  --- ]    c6
  4 [ ---  --- u 72   73   74   75 f---  ---  ---  --- ]    c0
  4 [ ---  --- u 72   73   74   75 f---  ---  ---  --- ] p1
  5 [ ---  --- u 72   73   74   75   76 f---  ---  --- ] p4
  5 [ ---  --- u 72   73   74   75   76 f---  ---  --- ] p5
  5 [ ---  --- u 72   73   74   75   76 f---  ---  --- ] p6
  5 [ ---  --- u 72   73   74   75   76 f---  ---  --- ] p0
  5 [ ---  --- u 72   73   74   75   76 f---  ---  --- ]    c1
  4 [ ---  ---  --- u 73   74   75   76 f---  ---  --- ]    c4
  4 [ ---  ---  --- u 73   74   75   76 f---  ---  --- ]    c5
  4 [ ---  ---  --- u 73   74   75   76 f---  ---  --- ]    c6
  4 [ ---  ---  --- u 73   74   75   76 f---  ---  --- ]    c0
  4 [ ---  ---  --- u 73   74   75   76 f---  ---  --- ] p1
  5 [ ---  ---  --- u 73   74   75   76   77 f---  --- ] p4
  5 [ ---  ---  --- u 73   74   75   76   77 f---  --- ] p5
  5 [ ---  ---  --- u 73   74   75   76   77 f---  --- ] p6
  5 [ ---  ---  --- u 73   74   75   76   77 f---  --- ] p0
  5 [ ---  ---  --- u 73   74   75   76   77 f---  --- ]    c1
  4 [ ---  ---  ---  --- u 74   75   76   77 f---  --- ]    c4
  4 [ ---  ---  ---  --- u 74   75   76   77 f---  --- ]    c5
  4 [ ---  ---  ---  --- u 74   75   76   77 f---  --- ]    c6
  4 [ ---  ---  ---  --- u 74   75   76   77 f---  --- ]    c0
  4 [ ---  ---  ---  --- u 74   75   76   77 f---  --- ] p1
  5 [ ---  ---  ---  --- u 74   75   76   77   78 f--- ] p4
  5 [ ---  ---  ---  --- u 74   75   76   77   78 f--- ] p5
  5 [ ---  ---  ---  --- u 74   75   76   77   78 f--- ] p6
  5 [ ---  ---  ---  --- u 74   75   76   77   78 f--- ] p0
  5 [ ---  ---  ---  --- u 74   75   76   77   78 f--- ]    c1
  4 [ ---  ---  ---  ---  --- u 75   76   77   78 f--- ]    c4
  4 [ ---  ---  ---  ---  --- u 75   76   77   78 f--- ]    c5
  4 [ ---  ---  ---  ---  --- u 75   76   77   78 f--- ]    c6
  4 [ ---  ---  ---  ---  --- u 75   76   77   78 f--- ]    c0
  4 [ ---  ---  ---  ---  --- u 75   76   77   78 f--- ] p1
  5 [f---  ---  ---  ---  --- u 75   76   77   78   79 ] p4
  5 [f---  ---  ---  ---  --- u 75   76   77   78   79 ] p5
  5 [f---  ---  ---  ---  --- u 75   76   77   78   79 ] p6
  5 [f---  ---  ---  ---  --- u 75   76   77   78   79 ] p0
  5 [f---  ---  ---  ---  --- u 75   76   77   78   79 ]    c1
  4 [f---  ---  ---  ---  ---  --- u 76   77   78   79 ]    c4
  4 [f---  ---  ---  ---  ---  --- u 76   77   78   79 ]    c5
  4 [f---  ---  ---  ---  ---  --- u 76   77   78   79 ]    c6
  4 [f---  ---  ---  ---  ---  --- u 76   77   78   79 ]    c0
  4 [f---  ---  ---  ---  ---  --- u 76   77   78   79 ] p1
  5 [  80 f---  ---  ---  ---  --- u 76   77   78   79 ] p4
  5 [  80 f---  ---  ---  ---  --- u 76   77   78   79 ] p5
  5 [  80 f---  ---  ---  ---  --- u 76   77   78   79 ] p6
  5 [  80 f---  ---  ---  ---  --- u 76   77   78   79 ] p0
  5 [  80 f---  ---  ---  ---  --- u 76   77   78   79 ]    c1
  4 [  80 f---  ---  ---  ---  ---  --- u 77   78   79 ]    c4
  4 [  80 f---  ---  ---  ---  ---  --- u 77   78   79 ]    c5
  4 [  80 f---  ---  ---  ---  ---  --- u 77   78   79 ]    c6
  4 [  80 f---  ---  ---  ---  ---  --- u 77   78   79 ]    c0
  4 [  80 f---  ---  ---  ---  ---  --- u 77   78   79 ]    c1
  3 [  80 f---  ---  ---  ---  ---  ---  --- u 78   79 ]    c4
  3 [  80 f---  ---  ---  ---  ---  ---  --- u 78   79 ]    c5
  3 [  80 f---  ---  ---  ---  ---  ---  --- u 78   79 ]    c6
  3 [  80 f---  ---  ---  ---  ---  ---  --- u 78   79 ] p1
  3 [  80   81 f---  ---  ---  ---  ---  --- u 78   79 ]    c0
  4 [  80   81 f---  ---  ---  ---  ---  --- u 78   79 ] p4
  4 [  80   81 f---  ---  ---  ---  ---  --- u 78   79 ] p5
  4 [  80   81 f---  ---  ---  ---  ---  --- u 78   79 ] p6
  4 [  80   81 f---  ---  ---  ---  ---  --- u 78   79 ]    c1
  3 [  80   81 f---  ---  ---  ---  ---  ---  --- u 79 ]    c4
  3 [  80   81 f---  ---  ---  ---  ---  ---  --- u 79 ]    c5
  3 [  80   81 f---  ---  ---  ---  ---  ---  --- u 79 ]    c6
  3 [  80   81 f---  ---  ---  ---  ---  ---  --- u 79 ]    c0
  3 [  80   81 f---  ---  ---  ---  ---  ---  --- u 79 ]    c1
  2 [u 80   81 f---  ---  ---  ---  ---  ---  ---  --- ]    c4
  2 [u 80   81 f---  ---  ---  ---  ---  ---  ---  --- ]    c5
  2 [u 80   81 f---  ---  ---  ---  ---  ---  ---  --- ]    c6
  2 [u 80   81 f---  ---  ---  ---  ---  ---  ---  --- ]    c0
  2 [u 80   81 f---  ---  ---  ---  ---  ---  ---  --- ]    c1
  1 [ --- u 81 f---  ---  ---  ---  ---  ---  ---  --- ]    c4
  1 [ --- u 81 f---  ---  ---  ---  ---  ---  ---  --- ]    c5
  1 [ --- u 81 f---  ---  ---  ---  ---  ---  ---  --- ]    c6
  1 [ --- u 81 f---  ---  ---  ---  ---  ---  ---  --- ]    c0
  1 [ --- u 81 f---  ---  ---  ---  ---  ---  ---  --- ] p0
  1 [ --- u 81 f---  ---  ---  ---  ---  ---  ---  --- ]    c1
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ]    c4
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ]    c5
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ]    c6
  0 [ ---  --- *---  ---  ---  ---  ---  ---  ---  --- ] p1
  1 [ ---  --- u 82 f---  ---  ---  ---  ---  ---  --- ] p4
  1 [ ---  --- u 82 f---  ---  ---  ---  ---  ---  --- ] p5
  1 [ ---  --- u 82 f---  ---  ---  ---  ---  ---  --- ] p6
  1 [ ---  --- u 82 f---  ---  ---  ---  ---  ---  --- ]    c0
  1 [ ---  --- u 82 f---  ---  ---  ---  ---  ---  --- ] p0
  1 [ ---  --- u 82 f---  ---  ---  ---  ---  ---  --- ]    c1
  0 [ ---  ---  --- *---  ---  ---  ---  ---  ---  --- ]    c4
  0 [ ---  ---  --- *---  ---  ---  ---  ---  ---  --- ]    c5
  0 [ ---  ---  --- *---  ---  ---  ---  ---  ---  --- ]    c6
  0 [ ---  ---  --- *---  ---  ---  ---  ---  ---  --- ] p1
  1 [ ---  ---  --- u 83 f---  ---  ---  ---  ---  --- ] p4
  1 [ ---  ---  --- u 83 f---  ---  ---  ---  ---  --- ] p5
  1 [ ---  ---  --- u 83 f---  ---  ---  ---  ---  --- ] p6
  1 [ ---  ---  --- u 83 f---  ---  ---  ---  ---  --- ] p0
  1 [ ---  ---  --- u 83 f---  ---  ---  ---  ---  --- ] p1
  2 [ ---  ---  --- u 83   84 f---  ---  ---  ---  --- ] p4
  2 [ ---  ---  --- u 83   84 f---  ---  ---  ---  --- ] p5
  2 [ ---  ---  --- u 83   84 f---  ---  ---  ---  --- ] p6
  2 [ ---  ---  --- u 83   84 f---  ---  ---  ---  --- ] p0
  2 [ ---  ---  --- u 83   84 f---  ---  ---  ---  --- ] p1
  3 [ ---  ---  --- u 83   84   85 f---  ---  ---  --- ] p4
  3 [ ---  ---  --- u 83   84   85 f---  ---  ---  --- ] p5
  3 [ ---  ---  --- u 83   84   85 f---  ---  ---  --- ]    c0
  3 [ ---  ---  --- u 83   84   85 f---  ---  ---  --- ]    c1
  2 [ ---  ---  ---  --- u 84   85 f---  ---  ---  --- ]    c4
  2 [ ---  ---  ---  --- u 84   85 f---  ---  ---  --- ] p6
  2 [ ---  ---  ---  --- u 84   85 f---  ---  ---  --- ] p0
  2 [ ---  ---  ---  --- u 84   85 f---  ---  ---  --- ]    c5
  2 [ ---  ---  ---  --- u 84   85 f---  ---  ---  --- ]    c6
  2 [ ---  ---  ---  --- u 84   85 f---  ---  ---  --- ]    c0
  2 [ ---  ---  ---  --- u 84   85 f---  ---  ---  --- ] p1
  3 [ ---  ---  ---  --- u 84   85   86 f---  ---  --- ] p4
  3 [ ---  ---  ---  --- u 84   85   86 f---  ---  --- ] p5
  3 [ ---  ---  ---  --- u 84   85   86 f---  ---  --- ] p6
  3 [ ---  ---  ---  --- u 84   85   86 f---  ---  --- ] p0
  3 [ ---  ---  ---  --- u 84   85   86 f---  ---  --- ] p1
  4 [ ---  ---  ---  --- u 84   85   86   87 f---  --- ] p4
  4 [ ---  ---  ---  --- u 84   85   86   87 f---  --- ] p5
  4 [ ---  ---  ---  --- u 84   85   86   87 f---  --- ] p6
  4 [ ---  ---  ---  --- u 84   85   86   87 f---  --- ] p0
  4 [ ---  ---  ---  --- u 84   85   86   87 f---  --- ]    c1
  3 [ ---  ---  ---  ---  --- u 85   86   87 f---  --- ]    c4
  3 [ ---  ---  ---  ---  --- u 85   86   87 f---  --- ]    c5
  3 [ ---  ---  ---  ---  --- u 85   86   87 f---  --- ]    c6
  3 [ ---  ---  ---  ---  --- u 85   86   87 f---  --- ]    c0
  3 [ ---  ---  ---  ---  --- u 85   86   87 f---  --- ] p1
  4 [ ---  ---  ---  ---  --- u 85   86   87   88 f--- ] p4
  4 [ ---  ---  ---  ---  --- u 85   86   87   88 f--- ] p5
  4 [ ---  ---  ---  ---  --- u 85   86   87   88 f--- ] p6
  4 [ ---  ---  ---  ---  --- u 85   86   87   88 f--- ] p0
  4 [ ---  ---  ---  ---  --- u 85   86   87   88 f--- ]    c1
  3 [ ---  ---  ---  ---  ---  --- u 86   87   88 f--- ]    c4
  3 [ ---  ---  ---  ---  ---  --- u 86   87   88 f--- ]    c5
  3 [ ---  ---  ---  ---  ---  --- u 86   87   88 f--- ]    c6
  3 [ ---  ---  ---  ---  ---  --- u 86   87   88 f--- ]    c0
  3 [ ---  ---  ---  ---  ---  --- u 86   87   88 f--- ] p1
  4 [f---  ---  ---  ---  ---  --- u 86   87   88   89 ] p4
  4 [f---  ---  ---  ---  ---  --- u 86   87   88   89 ] p5
  4 [f---  ---  ---  ---  ---  --- u 86   87   88   89 ] p6
  4 [f---  ---  ---  ---  ---  --- u 86   87   88   89 ]    c1
  3 [f---  ---  ---  ---  ---  ---  --- u 87   88   89 ]    c4
  3 [f---  ---  ---  ---  ---  ---  --- u 87   88   89 ]    c5
  3 [f---  ---  ---  ---  ---  ---  --- u 87   88   89 ]    c6
  3 [f---  ---  ---  ---  ---  ---  --- u 87   88   89 ]    c0
  3 [f---  ---  ---  ---  ---  ---  --- u 87   88   89 ]    c1
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 88   89 ]    c4
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 88   89 ]    c5
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 88   89 ]    c6
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 88   89 ]    c0
  2 [f---  ---  ---  ---  ---  ---  ---  --- u 88   89 ]    c1
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 89 ]    c4
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 89 ]    c5
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 89 ] p0
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 89 ] p1
  2 [  90 f---  ---  ---  ---  ---  ---  ---  --- u 89 ] p4
  2 [  90 f---  ---  ---  ---  ---  ---  ---  --- u 89 ] p5
  2 [  90 f---  ---  ---  ---  ---  ---  ---  --- u 89 ] p6
  2 [  90 f---  ---  ---  ---  ---  ---  ---  --- u 89 ] p0
  2 [  90 f---  ---  ---  ---  ---  ---  ---  --- u 89 ] p1
  3 [  90   91 f---  ---  ---  ---  ---  ---  --- u 89 ] p4
  3 [  90   91 f---  ---  ---  ---  ---  ---  --- u 89 ] p5
  3 [  90   91 f---  ---  ---  ---  ---  ---  --- u 89 ] p6
  3 [  90   91 f---  ---  ---  ---  ---  ---  --- u 89 ] p0
  3 [  90   91 f---  ---  ---  ---  ---  ---  --- u 89 ]    c6
  3 [  90   91 f---  ---  ---  ---  ---  ---  --- u 89 ]    c0
  3 [  90   91 f---  ---  ---  ---  ---  ---  --- u 89 ] p1
  4 [  90   91   92 f---  ---  ---  ---  ---  --- u 89 ] p4
  4 [  90   91   92 f---  ---  ---  ---  ---  --- u 89 ] p5
  4 [  90   91   92 f---  ---  ---  ---  ---  --- u 89 ] p6
  4 [  90   91   92 f---  ---  ---  ---  ---  --- u 89 ] p0
  4 [  90   91   92 f---  ---  ---  ---  ---  --- u 89 ] p1
  5 [  90   91   92   93 f---  ---  ---  ---  --- u 89 ] p4
  5 [  90   91   92   93 f---  ---  ---  ---  --- u 89 ] p5
  5 [  90   91   92   93 f---  ---  ---  ---  --- u 89 ] p6
  5 [  90   91   92   93 f---  ---  ---  ---  --- u 89 ] p0
  5 [  90   91   92   93 f---  ---  ---  ---  --- u 89 ]    c1
  4 [u 90   91   92   93 f---  ---  ---  ---  ---  --- ]    c4
  4 [u 90   91   92   93 f---  ---  ---  ---  ---  --- ]    c5
  4 [u 90   91   92   93 f---  ---  ---  ---  ---  --- ]    c6
  4 [u 90   91   92   93 f---  ---  ---  ---  ---  --- ]    c0
  4 [u 90   91   92   93 f---  ---  ---  ---  ---  --- ] p1
  5 [u 90   91   92   93   94 f---  ---  ---  ---  --- ] p4
  5 [u 90   91   92   93   94 f---  ---  ---  ---  --- ] p5
  5 [u 90   91   92   93   94 f---  ---  ---  ---  --- ] p6
  5 [u 90   91   92   93   94 f---  ---  ---  ---  --- ]    c1
  4 [ --- u 91   92   93   94 f---  ---  ---  ---  --- ]    c4
  4 [ --- u 91   92   93   94 f---  ---  ---  ---  --- ]    c5
  4 [ --- u 91   92   93   94 f---  ---  ---  ---  --- ]    c6
  4 [ --- u 91   92   93   94 f---  ---  ---  ---  --- ]    c0
  4 [ --- u 91   92   93   94 f---  ---  ---  ---  --- ]    c1
  3 [ ---  --- u 92   93   94 f---  ---  ---  ---  --- ]    c4
  3 [ ---  --- u 92   93   94 f---  ---  ---  ---  --- ]    c5
  3 [ ---  --- u 92   93   94 f---  ---  ---  ---  --- ]    c6
  3 [ ---  --- u 92   93   94 f---  ---  ---  ---  --- ]    c0
  3 [ ---  --- u 92   93   94 f---  ---  ---  ---  --- ]    c1
  2 [ ---  ---  --- u 93   94 f---  ---  ---  ---  --- ]    c4
  2 [ ---  ---  --- u 93   94 f---  ---  ---  ---  --- ]    c5
  2 [ ---  ---  --- u 93   94 f---  ---  ---  ---  --- ]    c6
  2 [ ---  ---  --- u 93   94 f---  ---  ---  ---  --- ]    c0
  2 [ ---  ---  --- u 93   94 f---  ---  ---  ---  --- ]    c1
  1 [ ---  ---  ---  --- u 94 f---  ---  ---  ---  --- ]    c4
  1 [ ---  ---  ---  --- u 94 f---  ---  ---  ---  --- ]    c5
  1 [ ---  ---  ---  --- u 94 f---  ---  ---  ---  --- ]    c6
  1 [ ---  ---  ---  --- u 94 f---  ---  ---  ---  --- ]    c0
  1 [ ---  ---  ---  --- u 94 f---  ---  ---  ---  --- ] p0
  1 [ ---  ---  ---  --- u 94 f---  ---  ---  ---  --- ]    c1
  0 [ ---  ---  ---  ---  --- *---  ---  ---  ---  --- ]    c4
  0 [ ---  ---  ---  ---  --- *---  ---  ---  ---  --- ]    c5
  0 [ ---  ---  ---  ---  --- *---  ---  ---  ---  --- ]    c6
  0 [ ---  ---  ---  ---  --- *---  ---  ---  ---  --- ]    c0
  0 [ ---  ---  ---  ---  --- *---  ---  ---  ---  --- ] p1
  1 [ ---  ---  ---  ---  --- u 95 f---  ---  ---  --- ] p4
  1 [ ---  ---  ---  ---  --- u 95 f---  ---  ---  --- ] p5
  1 [ ---  ---  ---  ---  --- u 95 f---  ---  ---  --- ] p6
  1 [ ---  ---  ---  ---  --- u 95 f---  ---  ---  --- ] p0
  1 [ ---  ---  ---  ---  --- u 95 f---  ---  ---  --- ]    c1
  0 [ ---  ---  ---  ---  ---  --- *---  ---  ---  --- ]    c4
  0 [ ---  ---  ---  ---  ---  --- *---  ---  ---  --- ]    c5
  0 [ ---  ---  ---  ---  ---  --- *---  ---  ---  --- ]    c6
  0 [ ---  ---  ---  ---  ---  --- *---  ---  ---  --- ]    c0
  0 [ ---  ---  ---  ---  ---  --- *---  ---  ---  --- ] p1
  1 [ ---  ---  ---  ---  ---  --- u 96 f---  ---  --- ] p4
  1 [ ---  ---  ---  ---  ---  --- u 96 f---  ---  --- ] p5
  1 [ ---  ---  ---  ---  ---  --- u 96 f---  ---  --- ] p6
  1 [ ---  ---  ---  ---  ---  --- u 96 f---  ---  --- ] p0
  1 [ ---  ---  ---  ---  ---  --- u 96 f---  ---  --- ]    c1
  0 [ ---  ---  ---  ---  ---  ---  --- *---  ---  --- ]    c4
  0 [ ---  ---  ---  ---  ---  ---  --- *---  ---  --- ]    c5
  0 [ ---  ---  ---  ---  ---  ---  --- *---  ---  --- ]    c6
  0 [ ---  ---  ---  ---  ---  ---  --- *---  ---  --- ]    c0
  0 [ ---  ---  ---  ---  ---  ---  --- *---  ---  --- ] p1
  1 [ ---  ---  ---  ---  ---  ---  --- u 97 f---  --- ] p4
  1 [ ---  ---  ---  ---  ---  ---  --- u 97 f---  --- ] p5
  1 [ ---  ---  ---  ---  ---  ---  --- u 97 f---  --- ] p6
  1 [ ---  ---  ---  ---  ---  ---  --- u 97 f---  --- ] p0
  1 [ ---  ---  ---  ---  ---  ---  --- u 97 f---  --- ]    c1
  0 [ ---  ---  ---  ---  ---  ---  ---  --- *---  --- ]    c4
  0 [ ---  ---  ---  ---  ---  ---  ---  --- *---  --- ]    c5
  0 [ ---  ---  ---  ---  ---  ---  ---  --- *---  --- ]    c6
  0 [ ---  ---  ---  ---  ---  ---  ---  --- *---  --- ]    c0
  0 [ ---  ---  ---  ---  ---  ---  ---  --- *---  --- ] p1
  1 [ ---  ---  ---  ---  ---  ---  ---  --- u 98 f--- ] p4
  1 [ ---  ---  ---  ---  ---  ---  ---  --- u 98 f--- ] p5
  1 [ ---  ---  ---  ---  ---  ---  ---  --- u 98 f--- ] p6
  1 [ ---  ---  ---  ---  ---  ---  ---  --- u 98 f--- ]    c1
  0 [ ---  ---  ---  ---  ---  ---  ---  ---  --- *--- ]    c4
  0 [ ---  ---  ---  ---  ---  ---  ---  ---  --- *--- ]    c5
  0 [ ---  ---  ---  ---  ---  ---  ---  ---  --- *--- ]    c6
  0 [ ---  ---  ---  ---  ---  ---  ---  ---  --- *--- ]    c0
  0 [ ---  ---  ---  ---  ---  ---  ---  ---  --- *--- ]    c1
  0 [ ---  ---  ---  ---  ---  ---  ---  ---  --- *--- ]    c2
  0 [ ---  ---  ---  ---  ---  ---  ---  ---  --- *--- ] p0
  0 [ ---  ---  ---  ---  ---  ---  ---  ---  --- *--- ] p1
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 99 ] p4
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 99 ] p5
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 99 ] p6
  1 [f---  ---  ---  ---  ---  ---  ---  ---  --- u 99 ]    c3
  0 [*---  ---  ---  ---  ---  ---  ---  ---  ---  --- ]    c4
  0 [*---  ---  ---  ---  ---  ---  ---  ---  ---  --- ]    c5
  0 [*---  ---  ---  ---  ---  ---  ---  ---  ---  --- ]    c6
  0 [*---  ---  ---  ---  ---  ---  ---  ---  ---  --- ]    c0
  1 [uEOS f---  ---  ---  ---  ---  ---  ---  ---  --- ] [main: added end-of-stream marker]
  1 [uEOS f---  ---  ---  ---  ---  ---  ---  ---  --- ]    c1
  0 [ --- *---  ---  ---  ---  ---  ---  ---  ---  --- ]    c4
  0 [ --- *---  ---  ---  ---  ---  ---  ---  ---  --- ]    c5
  0 [ --- *---  ---  ---  ---  ---  ---  ---  ---  --- ]    c6

Consumer consumption:
  C0 -> 100
```

---

**Q3**: If possible, run the code on different systems (e.g., a Mac and Linux).  Do you see different behavior across these systems?

**A**: I don't have access to a Linux machine currently. So I just tested the code on my Mac.

---

**Q4**: Letâ€™s look at some timings. How long do you think the following execution, with one producer, three consumers, a single-entry shared buffer, and each consumer pausing at point `c3` for a second, will take? `./main-two-cvs-while -p 1 -c 3 -m 1 -C 0,0,0,1,0,0,0:0,0,0,1,0,0,0:0,0,0,1,0,0,0 -l 10 -v -t`

**A**: Around 12 seconds.

```zsh
$ ./main-two-cvs-while -p 1 -c 3 -m 1 -C 0,0,0,1,0,0,0:0,0,0,1,0,0,0:0,0,0,1,0,0,0 -l 10 -v -t
 NF        P0 C0 C1 C2
  0 [*--- ] p0
  0 [*--- ] p1
  1 [*  0 ] p4
  1 [*  0 ] p5
  1 [*  0 ] p6
  1 [*  0 ] p0
  1 [*  0 ] p1
  1 [*  0 ] p2
  1 [*  0 ]    c0
  1 [*  0 ]          c0
  1 [*  0 ]       c0
  1 [*  0 ]    c1
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ]    c6
  0 [*--- ]    c0
  0 [*--- ]    c1
  0 [*--- ]    c2
  0 [*--- ]          c1
  0 [*--- ]          c2
  0 [*--- ] p3
  1 [*  1 ] p4
  1 [*  1 ] p5
  1 [*  1 ]    c3
  1 [*  1 ] p6
  1 [*  1 ] p0
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ]    c6
  0 [*--- ]    c0
  0 [*--- ]       c1
  0 [*--- ]       c2
  0 [*--- ] p1
  1 [*  2 ] p4
  1 [*  2 ] p5
  1 [*  2 ] p6
  1 [*  2 ] p0
  1 [*  2 ] p1
  1 [*  2 ] p2
  1 [*  2 ]          c3
  0 [*--- ]          c4
  0 [*--- ]          c5
  0 [*--- ] p3
  0 [*--- ]          c6
  0 [*--- ]          c0
  1 [*  3 ] p4
  1 [*  3 ] p5
  1 [*  3 ] p6
  1 [*  3 ] p0
  1 [*  3 ] p1
  1 [*  3 ] p2
  1 [*  3 ]       c3
  0 [*--- ]       c4
  0 [*--- ]       c5
  0 [*--- ]       c6
  0 [*--- ]       c0
  0 [*--- ]       c1
  0 [*--- ]       c2
  0 [*--- ] p3
  1 [*  4 ] p4
  1 [*  4 ] p5
  1 [*  4 ] p6
  1 [*  4 ] p0
  1 [*  4 ] p1
  1 [*  4 ] p2
  1 [*  4 ]          c1
  0 [*--- ]          c4
  0 [*--- ]          c5
  0 [*--- ]          c6
  0 [*--- ]          c0
  0 [*--- ]          c1
  0 [*--- ]          c2
  0 [*--- ]    c1
  0 [*--- ]    c2
  0 [*--- ]       c3
  0 [*--- ]       c2
  0 [*--- ] p3
  1 [*  5 ] p4
  1 [*  5 ] p5
  1 [*  5 ] p6
  1 [*  5 ] p0
  1 [*  5 ] p1
  1 [*  5 ] p2
  1 [*  5 ]          c3
  0 [*--- ]          c4
  0 [*--- ]          c5
  0 [*--- ]          c6
  0 [*--- ]          c0
  0 [*--- ]          c1
  0 [*--- ]          c2
  0 [*--- ] p3
  1 [*  6 ] p4
  1 [*  6 ] p5
  1 [*  6 ] p6
  1 [*  6 ] p0
  1 [*  6 ] p1
  1 [*  6 ] p2
  1 [*  6 ]    c3
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ]    c6
  0 [*--- ]    c0
  0 [*--- ]    c1
  0 [*--- ]    c2
  0 [*--- ] p3
  1 [*  7 ] p4
  1 [*  7 ] p5
  1 [*  7 ] p6
  1 [*  7 ] p0
  1 [*  7 ] p1
  1 [*  7 ] p2
  1 [*  7 ]       c3
  0 [*--- ]       c4
  0 [*--- ]       c5
  0 [*--- ]       c6
  0 [*--- ]       c0
  0 [*--- ]       c1
  0 [*--- ]       c2
  0 [*--- ] p3
  1 [*  8 ] p4
  1 [*  8 ] p5
  1 [*  8 ] p6
  1 [*  8 ] p0
  1 [*  8 ] p1
  1 [*  8 ] p2
  1 [*  8 ]          c3
  0 [*--- ]          c4
  0 [*--- ]          c5
  0 [*--- ]          c6
  0 [*--- ]          c0
  0 [*--- ]          c1
  0 [*--- ]          c2
  0 [*--- ] p3
  1 [*  9 ] p4
  1 [*  9 ] p5
  1 [*  9 ] p6
  1 [*  9 ]    c3
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ]    c6
  0 [*--- ]    c0
  0 [*--- ]    c1
  0 [*--- ]    c2
  1 [*EOS ] [main: added end-of-stream marker]
  1 [*EOS ]       c3
  0 [*--- ]       c4
  0 [*--- ]       c5
  0 [*--- ]       c6
  1 [*EOS ] [main: added end-of-stream marker]
  1 [*EOS ]          c3
  0 [*--- ]          c4
  0 [*--- ]          c5
  0 [*--- ]          c6
  1 [*EOS ] [main: added end-of-stream marker]
  1 [*EOS ]    c3
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ]    c6

Consumer consumption:
  C0 -> 4
  C1 -> 2
  C2 -> 4

Total time: 12.05 seconds
```

---

**Q5**: Now change the size of the shared buffer to 3 (`-m 3`). Will this make any difference in the total time?

**A**: Now it's about 10 seconds.

```zsh
$ ./main-two-cvs-while -p 1 -c 3 -m 3 -C 0,0,0,1,0,0,0:0,0,0,1,0,0,0:0,0,0,1,0,0,0 -l 10 -v -t
 NF                  P0 C0 C1 C2
  0 [*---  ---  --- ] p0
  0 [*---  ---  --- ] p1
  1 [u  0 f---  --- ] p4
  1 [u  0 f---  --- ] p5
  1 [u  0 f---  --- ] p6
  1 [u  0 f---  --- ] p0
  1 [u  0 f---  --- ]       c0
  1 [u  0 f---  --- ]          c0
  1 [u  0 f---  --- ] p1
  2 [u  0    1 f--- ] p4
  2 [u  0    1 f--- ] p5
  2 [u  0    1 f--- ]    c0
  2 [u  0    1 f--- ] p6
  2 [u  0    1 f--- ]       c1
  2 [u  0    1 f--- ] p0
  1 [ --- u  1 f--- ]       c4
  1 [ --- u  1 f--- ]       c5
  1 [ --- u  1 f--- ]       c6
  1 [ --- u  1 f--- ]          c1
  0 [ ---  --- *--- ]          c4
  0 [ ---  --- *--- ]          c5
  0 [ ---  --- *--- ]       c0
  0 [ ---  --- *--- ]    c1
  0 [ ---  --- *--- ]    c2
  0 [ ---  --- *--- ]          c6
  0 [ ---  --- *--- ]          c0
  0 [ ---  --- *--- ]       c1
  0 [ ---  --- *--- ]       c2
  0 [ ---  --- *--- ] p1
  1 [f---  --- u  2 ] p4
  1 [f---  --- u  2 ] p5
  1 [f---  --- u  2 ]    c3
  1 [f---  --- u  2 ] p6
  1 [f---  --- u  2 ] p0
  0 [*---  ---  --- ]    c4
  0 [*---  ---  --- ]    c5
  0 [*---  ---  --- ]    c6
  0 [*---  ---  --- ]    c0
  0 [*---  ---  --- ]    c1
  0 [*---  ---  --- ]    c2
  0 [*---  ---  --- ]          c1
  0 [*---  ---  --- ]          c2
  0 [*---  ---  --- ] p1
  1 [u  3 f---  --- ] p4
  1 [u  3 f---  --- ] p5
  1 [u  3 f---  --- ] p6
  1 [u  3 f---  --- ] p0
  1 [u  3 f---  --- ] p1
  2 [u  3    4 f--- ] p4
  2 [u  3    4 f--- ] p5
  2 [u  3    4 f--- ] p6
  2 [u  3    4 f--- ] p0
  2 [u  3    4 f--- ]    c3
  1 [ --- u  4 f--- ]    c4
  1 [ --- u  4 f--- ]    c5
  1 [ --- u  4 f--- ]    c6
  1 [ --- u  4 f--- ]    c0
  1 [ --- u  4 f--- ] p1
  2 [f--- u  4    5 ] p4
  2 [f--- u  4    5 ] p5
  2 [f--- u  4    5 ]          c3
  2 [f--- u  4    5 ] p6
  2 [f--- u  4    5 ] p0
  1 [f---  --- u  5 ]          c4
  1 [f---  --- u  5 ]          c5
  1 [f---  --- u  5 ]          c6
  1 [f---  --- u  5 ]          c0
  1 [f---  --- u  5 ]          c1
  0 [*---  ---  --- ]          c4
  0 [*---  ---  --- ]          c5
  0 [*---  ---  --- ]          c6
  0 [*---  ---  --- ]          c0
  0 [*---  ---  --- ]          c1
  0 [*---  ---  --- ]          c2
  0 [*---  ---  --- ]    c1
  0 [*---  ---  --- ]    c2
  0 [*---  ---  --- ]       c3
  0 [*---  ---  --- ]       c2
  0 [*---  ---  --- ] p1
  1 [u  6 f---  --- ] p4
  1 [u  6 f---  --- ] p5
  1 [u  6 f---  --- ] p6
  1 [u  6 f---  --- ] p0
  1 [u  6 f---  --- ] p1
  2 [u  6    7 f--- ] p4
  2 [u  6    7 f--- ] p5
  2 [u  6    7 f--- ] p6
  2 [u  6    7 f--- ] p0
  2 [u  6    7 f--- ] p1
  3 [*  6    7    8 ] p4
  3 [*  6    7    8 ] p5
  3 [*  6    7    8 ] p6
  3 [*  6    7    8 ] p0
  3 [*  6    7    8 ] p1
  3 [*  6    7    8 ] p2
  3 [*  6    7    8 ]          c3
  2 [f--- u  7    8 ]          c4
  2 [f--- u  7    8 ]          c5
  2 [f--- u  7    8 ] p3
  2 [f--- u  7    8 ]          c6
  3 [   9 *  7    8 ] p4
  3 [   9 *  7    8 ] p5
  3 [   9 *  7    8 ]          c0
  3 [   9 *  7    8 ]       c3
  3 [   9 *  7    8 ] p6
  2 [   9 f--- u  8 ]       c4
  2 [   9 f--- u  8 ]       c5
  2 [   9 f--- u  8 ]       c6
  2 [   9 f--- u  8 ]       c0
  2 [   9 f--- u  8 ]       c1
  1 [u  9 f---  --- ]       c4
  1 [u  9 f---  --- ]       c5
  1 [u  9 f---  --- ]       c6
  1 [u  9 f---  --- ]       c0
  1 [u  9 f---  --- ]       c1
  0 [ --- *---  --- ]       c4
  0 [ --- *---  --- ]       c5
  0 [ --- *---  --- ]       c6
  0 [ --- *---  --- ]       c0
  0 [ --- *---  --- ]       c1
  0 [ --- *---  --- ]       c2
  0 [ --- *---  --- ]    c3
  0 [ --- *---  --- ]    c2
  0 [ --- *---  --- ]          c1
  0 [ --- *---  --- ]          c2
  1 [ --- uEOS f--- ] [main: added end-of-stream marker]
  2 [f--- uEOS  EOS ] [main: added end-of-stream marker]
  3 [ EOS *EOS  EOS ] [main: added end-of-stream marker]
  3 [ EOS *EOS  EOS ]       c3
  2 [ EOS f--- uEOS ]       c4
  2 [ EOS f--- uEOS ]       c5
  2 [ EOS f--- uEOS ]       c6
  2 [ EOS f--- uEOS ]    c3
  1 [uEOS f---  --- ]    c4
  1 [uEOS f---  --- ]    c5
  1 [uEOS f---  --- ]          c3
  1 [uEOS f---  --- ]    c6
  0 [ --- *---  --- ]          c4
  0 [ --- *---  --- ]          c5
  0 [ --- *---  --- ]          c6

Consumer consumption:
  C0 -> 2
  C1 -> 4
  C2 -> 4

Total time: 10.03 seconds
```

---

**Q6**: Now change the location of the sleep to `c6` (this models a consumer taking something off the queue and then doing something with it), again using a single-entry buffer. What time do you predict in this case? `./main-two-cvs-while -p 1 -c 3 -m 1 -C 0,0,0,0,0,0,1:0,0,0,0,0,0,1:0,0,0,0,0,0,1 -l 10 -v -t`

**A**: Now it's about 5 seconds.

```zsh
$ ./main-two-cvs-while -p 1 -c 3 -m 1 -C 0,0,0,0,0,0,1:0,0,0,0,0,0,1:0,0,0,0,0,0,1 -l 10 -v -t
 NF        P0 C0 C1 C2
  0 [*--- ] p0
  0 [*--- ] p1
  1 [*  0 ] p4
  1 [*  0 ] p5
  1 [*  0 ]    c0
  1 [*  0 ]       c0
  1 [*  0 ]    c1
  1 [*  0 ] p6
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ] p0
  0 [*--- ]          c0
  0 [*--- ]    c6
  0 [*--- ] p1
  1 [*  1 ] p4
  1 [*  1 ] p5
  1 [*  1 ] p6
  1 [*  1 ] p0
  1 [*  1 ]       c1
  0 [*--- ]       c4
  0 [*--- ]       c5
  0 [*--- ]       c6
  0 [*--- ]          c1
  0 [*--- ]          c2
  0 [*--- ] p1
  1 [*  2 ] p4
  1 [*  2 ] p5
  1 [*  2 ] p6
  1 [*  2 ] p0
  1 [*  2 ]          c3
  0 [*--- ]          c4
  0 [*--- ]          c5
  0 [*--- ]          c6
  0 [*--- ] p1
  1 [*  3 ] p4
  1 [*  3 ] p5
  1 [*  3 ] p6
  1 [*  3 ] p0
  1 [*  3 ] p1
  1 [*  3 ] p2
  1 [*  3 ]          c0
  1 [*  3 ]          c1
  0 [*--- ]          c4
  0 [*--- ]          c5
  0 [*--- ]          c6
  0 [*--- ] p3
  1 [*  4 ] p4
  1 [*  4 ] p5
  1 [*  4 ] p6
  1 [*  4 ]       c0
  1 [*  4 ] p0
  1 [*  4 ]       c1
  0 [*--- ]       c4
  0 [*--- ]       c5
  0 [*--- ]       c6
  0 [*--- ] p1
  1 [*  5 ] p4
  1 [*  5 ] p5
  1 [*  5 ] p6
  1 [*  5 ] p0
  1 [*  5 ] p1
  1 [*  5 ] p2
  1 [*  5 ]    c0
  1 [*  5 ]    c1
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ]    c6
  0 [*--- ] p3
  1 [*  6 ] p4
  1 [*  6 ] p5
  1 [*  6 ] p6
  1 [*  6 ] p0
  1 [*  6 ] p1
  1 [*  6 ] p2
  1 [*  6 ]          c0
  1 [*  6 ]          c1
  0 [*--- ]          c4
  0 [*--- ]          c5
  0 [*--- ]          c6
  0 [*--- ]       c0
  0 [*--- ]       c1
  0 [*--- ]       c2
  0 [*--- ]    c0
  0 [*--- ]    c1
  0 [*--- ]    c2
  0 [*--- ] p3
  1 [*  7 ] p4
  1 [*  7 ] p5
  1 [*  7 ] p6
  1 [*  7 ] p0
  1 [*  7 ] p1
  1 [*  7 ] p2
  1 [*  7 ]       c3
  0 [*--- ]       c4
  0 [*--- ]       c5
  0 [*--- ]       c6
  0 [*--- ] p3
  1 [*  8 ] p4
  1 [*  8 ] p5
  1 [*  8 ] p6
  1 [*  8 ] p0
  1 [*  8 ] p1
  1 [*  8 ] p2
  1 [*  8 ]    c3
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ]    c6
  0 [*--- ] p3
  1 [*  9 ] p4
  1 [*  9 ] p5
  1 [*  9 ] p6
  1 [*  9 ]       c0
  1 [*  9 ]       c1
  0 [*--- ]       c4
  0 [*--- ]       c5
  0 [*--- ]       c6
  0 [*--- ]    c0
  0 [*--- ]    c1
  0 [*--- ]    c2
  1 [*EOS ] [main: added end-of-stream marker]
  1 [*EOS ]    c3
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ]    c6
  1 [*EOS ] [main: added end-of-stream marker]
  1 [*EOS ]          c0
  1 [*EOS ]          c1
  0 [*--- ]          c4
  0 [*--- ]          c5
  0 [*--- ]          c6
  1 [*EOS ] [main: added end-of-stream marker]
  1 [*EOS ]       c0
  1 [*EOS ]       c1
  0 [*--- ]       c4
  0 [*--- ]       c5
  0 [*--- ]       c6

Consumer consumption:
  C0 -> 3
  C1 -> 4
  C2 -> 3

Total time: 5.02 seconds
```

---

**Q7**: Finally, change the buffer size to 3 again (`-m 3`). What time do you predict now?

**A**: Almost the same as the previous one.

```zsh
$ ./main-two-cvs-while -p 1 -c 3 -m 3 -C 0,0,0,0,0,0,1:0,0,0,0,0,0,1:0,0,0,0,0,0,1 -l 10 -v -t
 NF                  P0 C0 C1 C2
  0 [*---  ---  --- ] p0
  0 [*---  ---  --- ] p1
  1 [u  0 f---  --- ] p4
  1 [u  0 f---  --- ] p5
  1 [u  0 f---  --- ] p6
  1 [u  0 f---  --- ]    c0
  1 [u  0 f---  --- ]       c0
  1 [u  0 f---  --- ]    c1
  0 [ --- *---  --- ]    c4
  0 [ --- *---  --- ]    c5
  0 [ --- *---  --- ]          c0
  0 [ --- *---  --- ]    c6
  0 [ --- *---  --- ]          c1
  0 [ --- *---  --- ]          c2
  0 [ --- *---  --- ] p0
  0 [ --- *---  --- ] p1
  1 [ --- u  1 f--- ] p4
  1 [ --- u  1 f--- ] p5
  1 [ --- u  1 f--- ]          c3
  0 [ ---  --- *--- ]          c4
  0 [ ---  --- *--- ]          c5
  0 [ ---  --- *--- ] p6
  0 [ ---  --- *--- ]          c6
  0 [ ---  --- *--- ] p0
  0 [ ---  --- *--- ]       c1
  0 [ ---  --- *--- ]       c2
  0 [ ---  --- *--- ] p1
  1 [f---  --- u  2 ] p4
  1 [f---  --- u  2 ] p5
  1 [f---  --- u  2 ] p6
  1 [f---  --- u  2 ] p0
  1 [f---  --- u  2 ]       c3
  0 [*---  ---  --- ]       c4
  0 [*---  ---  --- ]       c5
  0 [*---  ---  --- ]       c6
  0 [*---  ---  --- ] p1
  1 [u  3 f---  --- ] p4
  1 [u  3 f---  --- ] p5
  1 [u  3 f---  --- ] p6
  1 [u  3 f---  --- ] p0
  1 [u  3 f---  --- ] p1
  2 [u  3    4 f--- ] p4
  2 [u  3    4 f--- ] p5
  2 [u  3    4 f--- ] p6
  2 [u  3    4 f--- ] p0
  2 [u  3    4 f--- ] p1
  3 [*  3    4    5 ] p4
  3 [*  3    4    5 ] p5
  3 [*  3    4    5 ] p6
  3 [*  3    4    5 ] p0
  3 [*  3    4    5 ] p1
  3 [*  3    4    5 ] p2
  3 [*  3    4    5 ]          c0
  3 [*  3    4    5 ]       c0
  3 [*  3    4    5 ]          c1
  2 [f--- u  4    5 ]          c4
  2 [f--- u  4    5 ]          c5
  2 [f--- u  4    5 ] p3
  3 [   6 *  4    5 ] p4
  3 [   6 *  4    5 ] p5
  3 [   6 *  4    5 ]          c6
  3 [   6 *  4    5 ] p6
  3 [   6 *  4    5 ] p0
  3 [   6 *  4    5 ] p1
  3 [   6 *  4    5 ] p2
  3 [   6 *  4    5 ]       c1
  2 [   6 f--- u  5 ]       c4
  2 [   6 f--- u  5 ]       c5
  2 [   6 f--- u  5 ]       c6
  2 [   6 f--- u  5 ] p3
  3 [   6    7 *  5 ] p4
  3 [   6    7 *  5 ] p5
  3 [   6    7 *  5 ] p6
  3 [   6    7 *  5 ] p0
  3 [   6    7 *  5 ] p1
  3 [   6    7 *  5 ] p2
  3 [   6    7 *  5 ]    c0
  3 [   6    7 *  5 ]    c1
  2 [u  6    7 f--- ]    c4
  2 [u  6    7 f--- ]    c5
  2 [u  6    7 f--- ]    c6
  2 [u  6    7 f--- ] p3
  3 [*  6    7    8 ] p4
  3 [*  6    7    8 ] p5
  3 [*  6    7    8 ] p6
  3 [*  6    7    8 ] p0
  3 [*  6    7    8 ] p1
  3 [*  6    7    8 ] p2
  3 [*  6    7    8 ]          c0
  3 [*  6    7    8 ]          c1
  2 [f--- u  7    8 ]          c4
  2 [f--- u  7    8 ]          c5
  2 [f--- u  7    8 ]          c6
  2 [f--- u  7    8 ]       c0
  2 [f--- u  7    8 ]       c1
  1 [f---  --- u  8 ]       c4
  1 [f---  --- u  8 ]       c5
  1 [f---  --- u  8 ]       c6
  1 [f---  --- u  8 ] p3
  2 [   9 f--- u  8 ] p4
  2 [   9 f--- u  8 ] p5
  2 [   9 f--- u  8 ] p6
  3 [   9  EOS *  8 ] [main: added end-of-stream marker]
  3 [   9  EOS *  8 ]    c0
  3 [   9  EOS *  8 ]    c1
  2 [u  9  EOS f--- ]    c4
  2 [u  9  EOS f--- ]    c5
  2 [u  9  EOS f--- ]    c6
  3 [*  9  EOS  EOS ] [main: added end-of-stream marker]
  3 [*  9  EOS  EOS ]       c0
  3 [*  9  EOS  EOS ]       c1
  2 [f--- uEOS  EOS ]       c4
  2 [f--- uEOS  EOS ]       c5
  2 [f--- uEOS  EOS ]       c6
  3 [ EOS *EOS  EOS ] [main: added end-of-stream marker]
  3 [ EOS *EOS  EOS ]          c0
  3 [ EOS *EOS  EOS ]          c1
  2 [ EOS f--- uEOS ]          c4
  2 [ EOS f--- uEOS ]          c5
  2 [ EOS f--- uEOS ]          c6
  2 [ EOS f--- uEOS ]    c0
  2 [ EOS f--- uEOS ]    c1
  1 [uEOS f---  --- ]    c4
  1 [uEOS f---  --- ]    c5
  1 [uEOS f---  --- ]    c6
  1 [uEOS f---  --- ]       c0
  1 [uEOS f---  --- ]       c1
  0 [ --- *---  --- ]       c4
  0 [ --- *---  --- ]       c5
  0 [ --- *---  --- ]       c6

Consumer consumption:
  C0 -> 3
  C1 -> 4
  C2 -> 3

Total time: 5.01 seconds
```

---

**Q8**: Now letâ€™s look at `main-one-cv-while.c`. Can you configure a sleep string, assuming a single producer, one consumer, and a buffer of size 1, to cause a problem with this code?

**A**: Not with one consumer and one producer.

---

**Q9**: Now change the number of consumers to two. Can you construct sleep strings for the producer and the consumers so as to cause a problem in the code?

**A**: The program hangs with the following command:

```zsh
$ ./main-one-cv-while -p 1 -c 2 -m 1 -l 1 -P 0,0,0,0,0,0,1
```

---

**Q10**: Now examine `main-two-cvs-if.c`. Can you cause a problem to happen in this code? Again consider the case where there is only one consumer, and then the case where there is more than one.

**A**: Not with one consumer and one producer. But with more than one consumers, it will run into an error with the following command:

```zsh
$ ./main-two-cvs-if -p 1 -c 2 -m 1 -l 2 -P 1 -C 1:0,0,0,1 -v
 NF        P0 C0 C1
  0 [*--- ] p0
  0 [*--- ]    c0
  0 [*--- ]       c0
  0 [*--- ]       c1
  0 [*--- ]       c2
  0 [*--- ] p1
  1 [*  0 ] p4
  1 [*  0 ] p5
  1 [*  0 ] p6
  1 [*  0 ] p0
  1 [*  0 ]    c1
  0 [*--- ]    c4
  0 [*--- ]    c5
  0 [*--- ]    c6
  0 [*--- ]    c0
  0 [*--- ]       c3
error: tried to get an empty buffer
```

---

**Q11**: Finally, examine `main-two-cvs-while-extra-unlock.c`. What problem arises when you release the lock before doing a put or a get? Can you reliably cause such a problem to happen, given the sleep strings? What bad thing can happen?

**A**: With the extra `Mutex_unlock`, the program could run into race conditions with operations on the shared memory.

## Part 3: Chapter 31 Code

**Q1**: The first problem is just to implement and test a solution to the **fork/join** problem, as described in the text. Even though this solution is described in the text, the act of typing it in on your own is worthwhile; even Bach would rewrite Vivaldi, allowing one soon-to-be master to learn from an existing one. See `fork-join.c` for details. Add the call `sleep(1)` to the child to ensure it is working.

**A**:

---

**Q2**: Letâ€™s now generalize this a bit by investigating the **rendezvous problem**.  The problem is as follows: you have two threads, each of which are about to enter the rendezvous point in the code. Neither should exit this part of the code before the other enters it. Consider using two semaphores for this task, and see `rendezvous.c` for details.

**A**:

---

**Q3**: Now go one step further by implementing a general solution to **barrier synchronization**. Assume there are two points in a sequential piece of code, called *P1* and *P2*. Putting a barrier between *P1* and *P2* guarantees that all threads will execute *P1* before any one thread executes *P2*. Your task: write the code to implement a `barrier()` function that can be used in this manner. It is safe to assume you know *N* (the total number of threads in the running program) and that all *N* threads will try to enter the barrier. Again, you should likely use two semaphores to achieve the solution, and some other integers to count things. See `barrier.c` for details.

**A**:

---

**Q4**: Now letâ€™s solve the **reader-writer problem**, also as described in the text. In this first take, donâ€™t worry about starvation. See the code in `reader-writer.c` for details. Add `sleep()` calls to your code to demonstrate it works as you expect. Can you show the existence of the starvation problem?

**A**:

---

**Q5**: Letâ€™s look at the reader-writer problem again, but this time, worry about starvation. How can you ensure that all readers and writers eventually make progress? See `reader-writer-nostarve.c` for details.

**A**:

---

**Q6**: Use semaphores to build a **no-starve mutex**, in which any thread that tries to acquire the mutex will eventually obtain it. See the code in `mutex-nostarve.c` for more information.

**A**:

---

**Q7**: Liked these problems? See Downeyâ€™s free text for more just like them. And donâ€™t forget, have fun! But, you always do when you write code, no?

**A**:
